import{_ as a}from"./chunks/version1.DSsN59F8.js";import{_ as i}from"./chunks/ssh-key.DAgerwsG.js";import{_ as n}from"./chunks/apache.x4CsR5gF.js";import{_ as r,c as l,o as t,U as e,k as s}from"./chunks/framework.aGaNZw_P.js";const o="/assets/phpmyadmin.BsGo5vRo.jpg",w=JSON.parse(`{"title":"Cr√©er un serveur d'application avec Debian","description":"Serveur LAMP / WEB (Apache, MariaDB, PHP) avec Debian","frontmatter":{"description":"Serveur LAMP / WEB (Apache, MariaDB, PHP) avec Debian"},"headers":[],"relativePath":"tp/devops/serveur/debian.md","filePath":"tp/devops/serveur/debian.md","lastUpdated":1683313765000}`),p={name:"tp/devops/serveur/debian.md"},u=e('<h1 id="creer-un-serveur-d-application-avec-debian" tabindex="-1">Cr√©er un serveur d&#39;application avec Debian <a class="header-anchor" href="#creer-un-serveur-d-application-avec-debian" aria-label="Permalink to &quot;Cr√©er un serveur d&#39;application avec Debian&quot;">‚Äã</a></h1><p>Dans ce TP, nous allons cr√©er un serveur avec Debian. Nous allons installer un serveur web / LAMP.</p><details class="details custom-block"><summary>Sommaire</summary><nav class="table-of-contents"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#prerequis">Pr√©requis</a><ul><li><a href="#qu-est-ce-qu-un-serveur">Qu&#39;est-ce qu&#39;un serveur ?</a></li><li><a href="#qu-est-ce-qu-un-serveur-web">Qu&#39;est-ce qu&#39;un serveur web ?</a></li><li><a href="#qu-est-ce-qu-un-serveur-de-base-de-donnees">Qu&#39;est-ce qu&#39;un serveur de base de donn√©es ?</a></li></ul></li><li><a href="#physique-ou-virtuel">Physique ou virtuel ?</a></li><li><a href="#la-securite">La s√©curit√©</a></li><li><a href="#un-serveur-ou-plusieurs-serveurs">Un serveur ou plusieurs serveurs ?</a><ul><li><a href="#pourquoi-avoir-plusieurs-serveurs">Pourquoi avoir plusieurs serveurs ?</a></li></ul></li><li><a href="#installation-dans-un-container-docker-ou-directement-sur-la-machine">Installation dans un container Docker ou directement sur la machine ?</a></li><li><a href="#la-procedure-en-video">La proc√©dure en vid√©o</a></li><li><a href="#installation-de-debian">Installation de Debian</a><ul><li><a href="#procedure-d-installation-de-l-os">Proc√©dure d&#39;installation de l&#39;OS</a></li><li><a href="#acceder-a-votre-serveur">Acc√©der √† votre serveur</a></li></ul></li><li><a href="#installation-de-apache">Installation de Apache</a><ul><li><a href="#presentation">Pr√©sentation</a></li><li><a href="#installation">Installation</a></li><li><a href="#demarrez-le-serveur">D√©marrez le serveur</a></li><li><a href="#verifier-que-le-serveur-est-demarre">V√©rifier que le serveur est d√©marr√©</a></li><li><a href="#verifier-que-le-serveur-est-accessible">V√©rifier que le serveur est accessible</a></li><li><a href="#demarrer-le-serveur-au-demarrage-du-systeme">D√©marrer le serveur au d√©marrage du syst√®me</a></li><li><a href="#ou-sont-les-fichiers-du-serveur">O√π sont les fichiers du serveur</a></li><li><a href="#personnaliser-la-page-d-accueil">Personnaliser la page d&#39;accueil</a></li><li><a href="#deployer-votre-site-web">D√©ployer votre site web</a></li></ul></li><li><a href="#installation-de-php">Installation de PHP</a><ul><li><a href="#installation-1">Installation</a></li><li><a href="#verifier-que-php-est-installe">V√©rifier que PHP est install√©</a></li><li><a href="#verifier-que-apache-php-fonctionne">V√©rifier que Apache + PHP fonctionne</a></li><li><a href="#ecrire-du-code-php-pour-tester">√âcrire du code PHP pour tester</a></li></ul></li><li><a href="#installation-de-mariadb">Installation de MariaDB</a><ul><li><a href="#installation-2">Installation</a></li><li><a href="#configuration">Configuration</a></li><li><a href="#verifier-que-mariadb-est-installe">V√©rifier que MariaDB est install√©</a></li><li><a href="#php-et-mariadb">PHP et MariaDB</a></li></ul></li><li><a href="#les-virtualhost">Les virtualHost</a></li><li><a href="#installation-de-phpmyadmin">Installation de phpMyAdmin</a><ul><li><a href="#installation-3">Installation</a></li><li><a href="#creer-un-virtual-host-dedie-a-phpmyadmin">Cr√©er un virtual host d√©di√© √† phpMyAdmin</a></li><li><a href="#acceder-a-phpmyadmin">Acc√©der √† phpMyAdmin</a></li></ul></li><li><a href="#conclusion">Conclusion</a></li><li><a href="#synthese">Synth√®se</a></li><li><a href="#liens">Liens</a></li></ul></nav></details><div class="danger custom-block"><p class="custom-block-title">Attention</p><p>Document de r√©f√©rence, il est d√©coup√© en plusieurs partie pour faciliter la lecture :</p><ul><li><a href="/pages/categories/les-serveurs.html">Voir page avec d√©coupage</a></li></ul></div><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">‚Äã</a></h2><p>Les serveurs web et les serveurs de base de donn√©es sont des serveurs qui sont souvent utilis√©s ensemble. En effet, un site web dynamique n√©cessite souvent une base de donn√©es pour stocker les donn√©es.</p><p>Nous allons voir dans ce TP comment installer un serveur web et un serveur de base de donn√©es, sans oublier de s√©curiser le serveur. Nous utiliserons <strong>Apache</strong> pour le serveur web et <strong>MariaDB</strong> pour le serveur de base de donn√©es.</p><h2 id="prerequis" tabindex="-1">Pr√©requis <a class="header-anchor" href="#prerequis" aria-label="Permalink to &quot;Pr√©requis&quot;">‚Äã</a></h2><p>Avant de commencer ce TP, vous devez conna√Ætre :</p><ul><li>Les bases de Linux.</li><li>Les bases de la ligne de commande.</li><li>Les bases de la communication r√©seau (adresse IP, masque de sous-r√©seau, passerelle, etc.)</li></ul>',10),d=s("iframe",{src:"https://giphy.com/embed/3knKct3fGqxhK",width:"480",height:"281",frameBorder:"0",class:"giphy-embed",allowFullScreen:""},null,-1),c=e('<h3 id="qu-est-ce-qu-un-serveur" tabindex="-1">Qu&#39;est-ce qu&#39;un serveur ? <a class="header-anchor" href="#qu-est-ce-qu-un-serveur" aria-label="Permalink to &quot;Qu&#39;est-ce qu&#39;un serveur ?&quot;">‚Äã</a></h3><p>Un serveur est un ordinateur qui fournit des services √† d&#39;autres ordinateurs. Il peut s&#39;agir d&#39;un serveur web, d&#39;un serveur de base de donn√©es, d&#39;un serveur de fichiers, etc.</p><p>Concr√®tement, un serveur est un ordinateur qui est connect√© √† un r√©seau et qui est accessible depuis un autre ordinateur. Il est souvent install√© dans un datacenter, c&#39;est-√†-dire dans un b√¢timent sp√©cialis√© qui contient des serveurs. Les serveurs sont souvent install√©s dans des salles sp√©ciales qui sont climatis√©es et qui sont surveill√©es 24h/24 et 7j/7.</p><p>Mais sans aller jusque-l√†, vous pouvez aussi installer un serveur chez vous. Vous pouvez installer un serveur chez vous pour faire des tests, pour h√©berger un site web, etc. Vous pouvez par exemple utiliser un Raspberry Pi comme serveur, et y installer les services que vous souhaitez (Web, Base de donn√©es, Domotique, Fichier).</p><div class="tip custom-block"><p class="custom-block-title">Pourquoi installer un serveur chez soi ?</p><p>Il est possible d&#39;installer un serveur chez soi pour faire des tests, pour h√©berger un site web, etc. C&#39;est une bonne id√©e de faire des tests sur un serveur chez soi avant de mettre en production sur un serveur distant.</p><p>Cr√©er un serveur √† domicile permet r√©ellement de progresser, car vous devrez g√©rer l&#39;ensemble du serveur. Vous devrez g√©rer l&#39;installation, la configuration, la s√©curit√©, etc. C&#39;est une bonne exp√©rience pour apprendre √† g√©rer un serveur.</p><p>Voil√† √† quoi peut ressembler un serveur √† domicile (chez moi en l&#39;occurrence) :</p><p><img src="'+a+`" alt="Serveur √† domicile" loading="lazy"></p></div><h3 id="qu-est-ce-qu-un-serveur-web" tabindex="-1">Qu&#39;est-ce qu&#39;un serveur web ? <a class="header-anchor" href="#qu-est-ce-qu-un-serveur-web" aria-label="Permalink to &quot;Qu&#39;est-ce qu&#39;un serveur web ?&quot;">‚Äã</a></h3><p>Un serveur web est un serveur qui permet de servir des pages web. Il permet de servir des pages web statiques (fichiers HTML, CSS, JavaScript, images, etc.) mais aussi des pages web dynamiques (fichiers PHP, Python, Ruby, etc.).</p><p>Dans notre cas nous utiliserons Apache pour le serveur web. Apache est un serveur web open-source qui est tr√®s utilis√©. Il est tr√®s puissant et il est tr√®s facile √† configurer. Il est possible de configurer Apache pour servir des pages web statiques, mais aussi des pages web dynamiques.</p><p>Il existe diff√©rents serveurs web, Apache est l&#39;un des plus utilis√©s. Il existe √©galement Nginx, Caddy, etc. Mais Apache est le plus utilis√©, donc c&#39;est le serveur web que nous utiliserons.</p><ul><li>Nginx est √©galement un serveur web tr√®s puissant, mais il est un peu plus difficile √† configurer.</li><li>Caddy est un serveur web qui est tr√®s simple √† configurer, mais il est moins puissant qu‚Äôapache.</li></ul><h3 id="qu-est-ce-qu-un-serveur-de-base-de-donnees" tabindex="-1">Qu&#39;est-ce qu&#39;un serveur de base de donn√©es ? <a class="header-anchor" href="#qu-est-ce-qu-un-serveur-de-base-de-donnees" aria-label="Permalink to &quot;Qu&#39;est-ce qu&#39;un serveur de base de donn√©es ?&quot;">‚Äã</a></h3><p>Un serveur de base de donn√©es est un serveur qui permet de stocker des donn√©es. Il permet de stocker des donn√©es dans des tables, de faire des requ√™tes SQL, etc.</p><p>Dans notre cas nous utiliserons MariaDB pour le serveur de base de donn√©es. MariaDB est un serveur de base de donn√©es open-source qui est tr√®s utilis√©. Il est tr√®s puissant et il est tr√®s facile √† configurer. Il est possible de configurer MariaDB pour stocker des donn√©es dans des tables, de faire des requ√™tes SQL, etc. Quel que soit le langage de programmation que vous utilisez, il est possible de se connecter √† MariaDB pour stocker et r√©cup√©rer des donn√©es. Par exemple, si vous utilisez PHP, vous pouvez utiliser la librairie PDO pour vous connecter √† MariaDB.</p><div class="tip custom-block"><p class="custom-block-title">Pourquoi MariaDB et pas MySQL ?</p><p>C&#39;est une bonne question‚Ä¶ MariaDB est un fork de MySQL, c&#39;est-√†-dire que c&#39;est une copie de MySQL. MariaDB a √©t√© cr√©√© parce que Oracle a rachet√© MySQL. Oracle a ensuite d√©cid√© de rendre MySQL payant. MariaDB est donc une copie de MySQL qui est gratuite. MariaDB est donc une alternative √† MySQL.</p><p>Ce sont donc deux logiciels √©quivalents, MariadDB est gratuit et MySQL est pour l&#39;instant √©galement gratuit. Mais le logiciel MySQL pourrait devenir payant √† l&#39;avenir d&#39;o√π l&#39;int√©r√™t de se tourner vers MariaDB.</p></div><h2 id="physique-ou-virtuel" tabindex="-1">Physique ou virtuel ? <a class="header-anchor" href="#physique-ou-virtuel" aria-label="Permalink to &quot;Physique ou virtuel ?&quot;">‚Äã</a></h2><p>Il est possible d&#39;installer un serveur sur un ordinateur physique, mais il est √©galement possible d&#39;installer un serveur sur une machine virtuelle. Une machine virtuelle est un logiciel qui permet de simuler un ordinateur. Il est possible de cr√©er plusieurs machines virtuelles sur un seul ordinateur. Chaque machine virtuelle est ind√©pendante de l&#39;autre, c&#39;est-√†-dire que chaque machine virtuelle est comme un ordinateur physique.</p><p>Le TP que nous allons faire est sur une machine virtuelle. Mais vous pouvez √©galement installer un serveur sur un ordinateur physique.</p><h2 id="la-securite" tabindex="-1">La s√©curit√© <a class="header-anchor" href="#la-securite" aria-label="Permalink to &quot;La s√©curit√©&quot;">‚Äã</a></h2><p>H√©berger du contenu n√©c√©ssite de r√©fl√©chir √† la s√©curit√©. En effet, il est important de s√©curiser son serveur pour √©viter que des personnes malveillantes ne puissent acc√©der √† votre serveur et √† vos donn√©es.</p><p>Diff√©rents √©l√©ments seront √† prendre en compte pour s√©curiser votre serveur :</p><ul><li>L&#39;acc√®s aux ports de votre serveur.</li><li>Les services pr√©sents sur votre serveur.</li><li>Les utilisateurs pr√©sents sur votre serveur.</li><li>Les mots de passe d&#39;acc√®s.</li></ul><div class="danger custom-block"><p class="custom-block-title">D√©veloppeur != √Ä l&#39;arrache</p><p>√Ä premi√®re vue, vous vous dites que vous n&#39;avez pas besoin de s√©curiser votre serveur, car vous √™tes le seul √† y avoir acc√®s. Mais ce n&#39;est pas une bonne id√©e. Vous ne savez pas qui peut avoir acc√®s √† votre serveur. Il est possible que quelqu&#39;un d&#39;autre ait acc√®s √† votre serveur, et que cette personne soit malveillante. Il est donc important de s√©curiser votre serveur.</p><p>Vous vous dites √©galement que les serveurs ne sont pas votre histoire. Que c&#39;est l&#39;affaire des personnes dans l&#39;option SISR. Malheureusement pour vous dans la r√©alit√© des organisations vous serez amen√© √† g√©rer des serveurs (au moins de d√©veloppement).</p></div><h2 id="un-serveur-ou-plusieurs-serveurs" tabindex="-1">Un serveur ou plusieurs serveurs ? <a class="header-anchor" href="#un-serveur-ou-plusieurs-serveurs" aria-label="Permalink to &quot;Un serveur ou plusieurs serveurs ?&quot;">‚Äã</a></h2><p>Avant d&#39;aller plus loin‚Ä¶ R√©fl√©chissez √† la question suivante : est-ce que vous allez installer un seul serveur ou plusieurs serveurs ?</p><p>L&#39;id√©e est donc de comprendre pourquoi il est int√©ressant d&#39;avoir plusieurs serveurs. En effet, il est possible d&#39;avoir un seul serveur qui contient tout. Mais il est √©galement possible d&#39;avoir plusieurs serveurs qui contiennent chacun une partie du serveur. Par exemple, vous pouvez avoir un serveur qui contient le serveur web, un serveur qui contient le serveur de base de donn√©es, etc.</p><h3 id="pourquoi-avoir-plusieurs-serveurs" tabindex="-1">Pourquoi avoir plusieurs serveurs ? <a class="header-anchor" href="#pourquoi-avoir-plusieurs-serveurs" aria-label="Permalink to &quot;Pourquoi avoir plusieurs serveurs ?&quot;">‚Äã</a></h3><p>Il y a plusieurs raisons pour avoir plusieurs serveurs :</p><ul><li>Vous pouvez avoir plusieurs serveurs pour r√©partir la charge.</li><li>Vous pouvez avoir plusieurs serveurs pour avoir une meilleure disponibilit√©.</li><li>Vous pouvez avoir plusieurs serveurs pour avoir une meilleure s√©curit√©.</li><li>Vous pouvez avoir plusieurs serveurs pour avoir une meilleure maintenance.</li></ul><h2 id="installation-dans-un-container-docker-ou-directement-sur-la-machine" tabindex="-1">Installation dans un container Docker ou directement sur la machine ? <a class="header-anchor" href="#installation-dans-un-container-docker-ou-directement-sur-la-machine" aria-label="Permalink to &quot;Installation dans un container Docker ou directement sur la machine ?&quot;">‚Äã</a></h2><p>Il est possible d&#39;installer un serveur dans un container Docker ou directement sur la machine. Dans notre cas nous allons installer un serveur directement sur la machine.</p><p>Plus tard nous d√©couvrirons Docker et l&#39;avantage de celui-ci (vous verrez c&#39;est incroyable üéâ). Il est de toute fa√ßon primordial de comprendre comment on installe un serveur classique pour comprendre l&#39;usage de Docker.</p><div class="tip custom-block"><p class="custom-block-title">Docker c&#39;est vaste</p><p>Plus tard dans l&#39;ann√©e nous utiliserons Docker pour cr√©er des environnements de type ¬´ Conteneurs ¬ª‚Ä¶ Volontairement j&#39;ai souhait√© vous en parler ici. Donc soyez curieux. N&#39;h√©siter pas √† vous documenter si vous le souhaitez.</p></div><h2 id="la-procedure-en-video" tabindex="-1">La proc√©dure en vid√©o <a class="header-anchor" href="#la-procedure-en-video" aria-label="Permalink to &quot;La proc√©dure en vid√©o&quot;">‚Äã</a></h2><p>Je sais que vous aimez bien les tutos vid√©o. Donc voici l&#39;ensemble de la proc√©dure d&#39;installation r√©sum√© une une seule vid√©o :</p><p>TODO YOUTUBE</p><div class="tip custom-block"><p class="custom-block-title">√Ä noter</p><p>Comme vous pouvez le voir la proc√©dure est relativement courte quand on la maitrise. Seulement quelques minutes suffise pour cr√©er un serveur Web (Apache + MySQL complet), nous allons voir plus tard qu&#39;avec Docker il est possible de gagner encore plus de temps (sans perdre en qualit√© bien au contraire).</p></div><h2 id="installation-de-debian" tabindex="-1">Installation de Debian <a class="header-anchor" href="#installation-de-debian" aria-label="Permalink to &quot;Installation de Debian&quot;">‚Äã</a></h2><p>Pour cr√©er votre machine, vous allez avoir besoin d&#39;un syst√®me d&#39;exploitation. Je vous propose d&#39;utiliser la derni√®re version de Debian, avant d&#39;aller plus loin posons-nous quelques questions :</p><ul><li>Pourquoi Debian ?</li><li>Pourquoi dans sa derni√®re version ?</li></ul><h3 id="procedure-d-installation-de-l-os" tabindex="-1">Proc√©dure d&#39;installation de l&#39;OS <a class="header-anchor" href="#procedure-d-installation-de-l-os" aria-label="Permalink to &quot;Proc√©dure d&#39;installation de l&#39;OS&quot;">‚Äã</a></h3><p>Vous connaissez la proc√©dure d&#39;installation, mais quelques √©l√©ments sont importants √† signaler :</p><ul><li><strong>Pas d&#39;interface graphique</strong>.</li><li>Ajuster la configuration de l&#39;adresse IP.</li><li>N&#39;oubliez pas d&#39;installer les VMware Tools.</li></ul><div class="danger custom-block"><p class="custom-block-title">Les performances et la virtualisation</p><p>Sans les VMware tools semble fonctionner correctement ? Oui‚Ä¶ √Ä premi√®re vue seulement‚Ä¶ En r√©alit√© votre machine ne tire pas toutes les performances de l&#39;environnement. Pire, elle peut d√©grader les performances de toute la ferme.</p><p>Bref, n&#39;oubliez pas d&#39;installer les Tools pour vivre une exp√©rience optimale üëå.</p></div><p><a href="./tp1b.html">Suivre la proc√©dure d&#39;installation de Debian</a></p><div class="tip custom-block"><p class="custom-block-title">üëã Pas d&#39;interface graphique ?</p><p>√Ä votre avis, pourquoi ?</p></div><h3 id="acceder-a-votre-serveur" tabindex="-1">Acc√©der √† votre serveur <a class="header-anchor" href="#acceder-a-votre-serveur" aria-label="Permalink to &quot;Acc√©der √† votre serveur&quot;">‚Äã</a></h3><p>Pour acc√©der √† votre serveur, vous pouvez utiliser la Remote Console de VMWare‚Ä¶ Mais c&#39;est une solution pas optimale qui sera lente et qui ne vous permettra pas de faire de copier/coller. Je vous propose donc d&#39;utiliser un client SSH.</p><p>Un client SSH est un logiciel qui permet de se connecter √† un serveur via SSH. SSH est un protocole qui permet de se connecter √† un serveur de mani√®re s√©curis√©e. De plus bien configur√© avec des cl√©s SSH, vous n&#39;aurez pas besoin de rentrer de mot de passe (c&#39;est magique‚Ä¶ et en cybers√©curit√© c&#39;est une bonne chose).</p><p>Pour installer un client SSH, vous pouvez utiliser Putty (Windows) ou SSH (macOS).</p><p>Installer SSH sur votre serveur Debian :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssh-server</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Je vous laisse valider l&#39;installation du paquet. Une fois l&#39;installation termin√©e, vous pouvez vous connecter √† votre serveur avec SSH.</p><p>Avant d&#39;aller plus loin, nous allons g√©n√©rer une cl√© SSH, elle vous servira de cl√© pour vous connecter √† votre serveur. Mais √©galement aux prochains serveurs que vous allez installer.</p><p>Avoir une cl√© SSH est int√©ressant, car une cl√© SSH est plus s√©curis√©e qu&#39;un mot de passe. De plus une cl√© SSH est un standard, donc vous pouvez l&#39;utiliser pour vous connecter √† n&#39;importe quel type de serveur (Linux, mais √©galement GIT, etc.).</p><div class="tip custom-block"><p class="custom-block-title">C&#39;est une cl√© ultra priv√©e</p><p>La cl√© SSH est une cl√© priv√©e, donc ne la partagez pas avec n&#39;importe qui. Elle vous permet de vous connecter √† votre serveur, mais √©galement √† d&#39;autres serveurs. Si vous la partagez avec n&#39;importe qui, vous risquez de vous faire pirater votre serveur.</p><p><strong>Avoir la cl√© == Pouvoir se connecter √† votre serveur.</strong></p></div><h4 id="generer-une-clef-privee-public" tabindex="-1">G√©n√©rer une clef priv√©e/public <a class="header-anchor" href="#generer-une-clef-privee-public" aria-label="Permalink to &quot;G√©n√©rer une clef priv√©e/public&quot;">‚Äã</a></h4><p>Cette op√©ration n&#39;est √† r√©aliser qu&#39;une seule fois (sur chaque machine/session). Au lyc√©e, la clef va s&#39;enregistrer dans votre dossier utilisateur, elle sera donc synchronis√©e automatiquement avec l&#39;ensemble des ordinateurs sur lesquels vous allez pouvoir vous connecter.</p><h4 id="generer-la-clef" tabindex="-1">G√©n√©rer la clef <a class="header-anchor" href="#generer-la-clef" aria-label="Permalink to &quot;G√©n√©rer la clef&quot;">‚Äã</a></h4><p>La commande pour g√©n√©rer une clef est la suivante.</p><div class="tip custom-block"><p class="custom-block-title">Windows, Linux, macOS ?</p><p>La commande sera la m√™me, quel que soit votre syst√®me d&#39;exploitation. Cependant, le terminal lui sera diff√©rent :</p><ul><li>Windows : <code>Git Bash</code> (ou <code>Git cmd</code>). (<a href="https://git-scm.com/downloads" target="_blank" rel="noreferrer">n√©cessite Git</a>)</li><li>macOS : <code>terminal</code>.</li><li>Linux : <code>console</code>.</li></ul></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="`+i+'" alt="G√©n√©ration d&#39;une clef SSH" loading="lazy"></p><p>La commande va g√©n√©rer <strong>deux fichiers</strong>¬†:</p><ul><li><strong>id_rsa</strong>, est priv√©. <strong>Vous ne devez jamais le partager</strong>.</li><li><strong>id_rsa.pub</strong>, est publique, vous pouvez le partager autant que vous voulez ce fichier permettra de vous reconna√Ætre au moment de la connexion.</li></ul><div class="danger custom-block"><p class="custom-block-title">Plus de s√©curit√©</p><p>Vous pouvez faire ¬´¬†entr√©e (3√ó)¬†¬ª pour g√©n√©rer une clef sans mot de passe. Vous pouvez √©galement faire le choix de mettre un mot de passe sur votre clef pour plus de s√©curit√© en cas de perte de celle-ci.</p></div><h4 id="installer-la-clef-sur-votre-serveur" tabindex="-1">Installer la clef sur votre serveur <a class="header-anchor" href="#installer-la-clef-sur-votre-serveur" aria-label="Permalink to &quot;Installer la clef sur votre serveur&quot;">‚Äã</a></h4><p>Pour cela, il vous suffit de faire la commande suivante sur votre ordinateur.</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-copy-id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">usernam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ipaddres</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>‚ö†Ô∏è Vous devez √©videmment remplacer <code>&lt;username&gt;</code>et <code>&lt;ipaddress&gt;</code>par votre utilisateur et votre mot de passe. Exemple¬†:</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-copy-id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pi@192.168.1.253</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Et voil√†¬†!</p><p>Rien de plus, √† partir de maintenant votre serveur acceptera votre connexion sans vous demander de mot de passe. Pratique non¬†? (Et surtout tr√®s s√©curis√©)</p></div><h2 id="installation-de-apache" tabindex="-1">Installation de Apache <a class="header-anchor" href="#installation-de-apache" aria-label="Permalink to &quot;Installation de Apache&quot;">‚Äã</a></h2><h3 id="presentation" tabindex="-1">Pr√©sentation <a class="header-anchor" href="#presentation" aria-label="Permalink to &quot;Pr√©sentation&quot;">‚Äã</a></h3><p>Apache est un serveur web. Il permet de servir des pages web, mais √©galement des applications web. Il est tr√®s utilis√© sur le web, car il est gratuit, open source et tr√®s performant.</p><h3 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">‚Äã</a></h3><p>Pour installer Apache sur votre serveur, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="demarrez-le-serveur" tabindex="-1">D√©marrez le serveur <a class="header-anchor" href="#demarrez-le-serveur" aria-label="Permalink to &quot;D√©marrez le serveur&quot;">‚Äã</a></h3><p>Maintenant que le serveur est install√©, il faut le d√©marrer. Pour cela, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="verifier-que-le-serveur-est-demarre" tabindex="-1">V√©rifier que le serveur est d√©marr√© <a class="header-anchor" href="#verifier-que-le-serveur-est-demarre" aria-label="Permalink to &quot;V√©rifier que le serveur est d√©marr√©&quot;">‚Äã</a></h3><p>Pour v√©rifier que le serveur est d√©marr√©, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="verifier-que-le-serveur-est-accessible" tabindex="-1">V√©rifier que le serveur est accessible <a class="header-anchor" href="#verifier-que-le-serveur-est-accessible" aria-label="Permalink to &quot;V√©rifier que le serveur est accessible&quot;">‚Äã</a></h3><p>Pour v√©rifier que le serveur est accessible, il vous suffit d&#39;ouvrir votre navigateur et d&#39;aller sur l&#39;adresse IP de votre serveur. Si vous avez bien suivi les √©tapes pr√©c√©dentes, vous devriez voir la page d&#39;accueil d&#39;Apache.</p><p><img src="'+n+`" alt="Page d&#39;accueil d&#39;Apache" loading="lazy"></p><h3 id="demarrer-le-serveur-au-demarrage-du-systeme" tabindex="-1">D√©marrer le serveur au d√©marrage du syst√®me <a class="header-anchor" href="#demarrer-le-serveur-au-demarrage-du-systeme" aria-label="Permalink to &quot;D√©marrer le serveur au d√©marrage du syst√®me&quot;">‚Äã</a></h3><p>Pour que le serveur se lance automatiquement au d√©marrage du syst√®me, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="ou-sont-les-fichiers-du-serveur" tabindex="-1">O√π sont les fichiers du serveur <a class="header-anchor" href="#ou-sont-les-fichiers-du-serveur" aria-label="Permalink to &quot;O√π sont les fichiers du serveur&quot;">‚Äã</a></h3><p>Les fichiers du serveur sont dans le dossier <code>/var/www/html</code>. Vous pouvez y acc√©der avec la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>C&#39;est ici que nous voyons l&#39;avantage de Linux. L&#39;architecture est tr√®s simple, et les fichiers sont tr√®s facilement accessibles.</p><h3 id="personnaliser-la-page-d-accueil" tabindex="-1">Personnaliser la page d&#39;accueil <a class="header-anchor" href="#personnaliser-la-page-d-accueil" aria-label="Permalink to &quot;Personnaliser la page d&#39;accueil&quot;">‚Äã</a></h3><p>Pour personnaliser la page d&#39;accueil, vous pouvez modifier le fichier <code>index.html</code> dans le dossier <code>/var/www/html</code>. Vous pouvez utiliser la commande suivante pour y acc√©der :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html/index.html</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Vous pouvez √©galement utiliser FileZilla pour modifier le fichier.</p><h3 id="deployer-votre-site-web" tabindex="-1">D√©ployer votre site web <a class="header-anchor" href="#deployer-votre-site-web" aria-label="Permalink to &quot;D√©ployer votre site web&quot;">‚Äã</a></h3><p>Je vous laisse cr√©er une petite page web, et la d√©ployer sur votre serveur. Votre site doit respecter les r√®gles suivantes :</p><ul><li>Le fichier doit √™tre nomm√© <code>index.html</code>.</li><li>Poss√©der un titre (Bienvenue sur mon site).</li><li>Poss√©der un paragraphe (Ceci est mon site web).</li><li>Poss√©der une image (Une image de votre choix).</li><li>Poss√©der un lien vers un autre site (Un lien vers le site de votre choix).</li></ul><p>üëã C&#39;est √† vous de jouer.</p><p>Une fois votre code r√©alis√©, je vous propose de le d√©ployer sur votre serveur. Pour cela, vous pouvez utiliser FileZilla. Je vous propose de cr√©er un dossier <code>monsite</code> dans le dossier <code>/var/www/html</code>.</p><p>üëÄ Le dossier est cr√©√© ? vous pouvez d√©poser votre fichier <code>index.html</code> dans le dossier <code>monsite</code>. Vous pouvez ensuite ouvrir votre navigateur et aller sur l&#39;adresse IP de votre serveur. Vous devriez voir votre site web.</p><h2 id="installation-de-php" tabindex="-1">Installation de PHP <a class="header-anchor" href="#installation-de-php" aria-label="Permalink to &quot;Installation de PHP&quot;">‚Äã</a></h2><p>Avoir un serveur web sans PHP, c&#39;est comme avoir un serveur web sans base de donn√©es. C&#39;est un peu dommage. PHP est un langage de programmation qui permet de faire des applications web. Il est tr√®s utilis√© sur le web, car il est gratuit, open source et tr√®s performant.</p><h3 id="installation-1" tabindex="-1">Installation <a class="header-anchor" href="#installation-1" aria-label="Permalink to &quot;Installation&quot;">‚Äã</a></h3><p>La version de PHP fourni par d√©faut sur Debian est un peu ancienne. Pour avoir la derni√®re version, nous devons ajouter un d√©p√¥t. Pour cela, vous pouvez utiliser les commandes suivantes :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lsb-release</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-transport-https</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gnupg2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ca-certificates</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/apt/trusted.gpg.d/php.gpg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://packages.sury.org/php/apt.gpg</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;echo &quot;deb https://packages.sury.org/php/ $(lsb_release -sc) main&quot; &gt; /etc/apt/sources.list.d/php.list&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Ces commandes vont ajouter le d√©p√¥t permettant d&#39;installer la derni√®re version de PHP. Ce d√©p√¥t est maintenu par Ond≈ôej Sur√Ω, un d√©veloppeur PHP.</p><p>Maintenant que le d√©p√¥t est ajout√©, nous pouvons installer PHP. Pour cela, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php8.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php8.2-fpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php8.2-cli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php8.2-{bz2,curl,mbstring,intl}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="verifier-que-php-est-installe" tabindex="-1">V√©rifier que PHP est install√© <a class="header-anchor" href="#verifier-que-php-est-installe" aria-label="Permalink to &quot;V√©rifier que PHP est install√©&quot;">‚Äã</a></h3><p>Pour v√©rifier que PHP est install√©, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande va vous afficher la version de PHP install√©e sur votre serveur.</p><p>Un instant, quelle version de PHP est install√©e ?</p><h3 id="verifier-que-apache-php-fonctionne" tabindex="-1">V√©rifier que Apache + PHP fonctionne <a class="header-anchor" href="#verifier-que-apache-php-fonctionne" aria-label="Permalink to &quot;V√©rifier que Apache + PHP fonctionne&quot;">‚Äã</a></h3><p>Maintenant que notre PHP est install√©, il faut l&#39;activer :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2enmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> proxy_fcgi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> setenvif</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rewrite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> headers</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2enconf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php8.2-fpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Pour v√©rifier que Apache + PHP fonctionne, vous pouvez cr√©er un fichier <code>info.php</code> dans le dossier <code>/var/www/html</code>. Vous pouvez utiliser la commande suivante pour y acc√©der :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html/info.php</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Dans ce fichier <code>info.php</code>, vous pouvez mettre le code suivant :</p><div class="language-php vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">php</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">phpinfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Vous pouvez ensuite ouvrir votre navigateur et aller sur l&#39;adresse IP de votre serveur. Si vous avez bien suivi les √©tapes pr√©c√©dentes, vous devriez voir la page d&#39;information de PHP.</p><div class="tip custom-block"><p class="custom-block-title">phpinfo() ?</p><p>La fonction <code>phpinfo()</code> permet d&#39;afficher les informations de PHP. C&#39;est tr√®s pratique pour v√©rifier que tout fonctionne correctement. Vous pouvez √©galement utiliser cette fonction pour v√©rifier que les extensions PHP sont bien install√©es.</p><p>Comme par exemple <code>php-pdo</code> et <code>php-mysql</code> pour la base de donn√©es.</p></div><h3 id="ecrire-du-code-php-pour-tester" tabindex="-1">√âcrire du code PHP pour tester <a class="header-anchor" href="#ecrire-du-code-php-pour-tester" aria-label="Permalink to &quot;√âcrire du code PHP pour tester&quot;">‚Äã</a></h3><p>Pour tester que PHP fonctionne, vous pouvez cr√©er un fichier <code>test.php</code> dans le dossier <code>/var/www/html</code>. Vous pouvez utiliser la commande suivante pour y acc√©der :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html/test.php</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Dans ce fichier <code>test.php</code>, vous pouvez mettre le code suivant :</p><div class="language-php vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">php</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $_GET[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Vous pouvez ensuite ouvrir votre navigateur et aller sur l&#39;adresse IP de votre serveur. Si vous avez bien suivi les √©tapes pr√©c√©dentes, vous devriez voir le message <code>Hello</code> suivi du nom que vous avez rentr√© dans l&#39;URL.</p><p>üëã C&#39;est √† vous de jouer.</p><h2 id="installation-de-mariadb" tabindex="-1">Installation de MariaDB <a class="header-anchor" href="#installation-de-mariadb" aria-label="Permalink to &quot;Installation de MariaDB&quot;">‚Äã</a></h2><p>Maintenant que nous avons un serveur web, nous allons installer une base de donn√©es. Nous allons installer MariaDB, une base de donn√©es open source, qui est compatible avec MySQL.</p><div class="danger custom-block"><p class="custom-block-title">Attention</p><p>Un instant, dans ce TP nous allons installer MariaDB sur le m√™me serveur que Apache. C&#39;est une mauvaise pratique, car si Apache tombe, MariaDB tombe aussi.</p><p>Dans la vraie vie, il est pr√©f√©rable d&#39;avoir un serveur web et un serveur de base de donn√©es s√©par√©. C&#39;est plus s√©curis√© et plus performant.</p></div><h3 id="installation-2" tabindex="-1">Installation <a class="header-anchor" href="#installation-2" aria-label="Permalink to &quot;Installation&quot;">‚Äã</a></h3><p>Pour installer MariaDB, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mariadb-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mariadb-client</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Pourquoi ces deux paquets ? <code>mariadb-server</code> est le serveur de base de donn√©es, et <code>mariadb-client</code> est le client de base de donn√©es. Le client est utilis√© pour se connecter √† la base de donn√©es.</p><div class="tip custom-block"><p class="custom-block-title">Arr√™tons-nous un instant</p><ul><li>Pourquoi faire un update avant d&#39;installer un paquet ?</li><li>√Ä quoi correspond le <code>-y</code> √† la fin de la commande ?</li><li>Selon vous, est-ce que votre serveur de base de donn√©es est d√©marr√© ? Si oui, comment le v√©rifier ?</li></ul></div><h3 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">‚Äã</a></h3><p>Avant d&#39;utiliser MariaDB, nous devons configurer le mot de passe de l&#39;utilisateur <code>root</code>. Pour cela, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysql_secure_installation</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande va vous demander de rentrer le mot de passe actuel de l&#39;utilisateur <code>root</code>. Comme vous venez d&#39;installer MariaDB.</p><div class="tip custom-block"><p class="custom-block-title">Arr√™tons-nous un instant</p><ul><li>Qu&#39;est-ce que <code>mysql_secure_installation</code> ?</li><li>Pourquoi est-ce important de changer le mot de passe de l&#39;utilisateur <code>root</code> ?</li><li>Quel mot de passe avez-vous choisi ? Pourquoi ?</li></ul></div><h3 id="verifier-que-mariadb-est-installe" tabindex="-1">V√©rifier que MariaDB est install√© <a class="header-anchor" href="#verifier-que-mariadb-est-installe" aria-label="Permalink to &quot;V√©rifier que MariaDB est install√©&quot;">‚Äã</a></h3><p>Pour v√©rifier que MariaDB est install√©, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande va vous demander le mot de passe de l&#39;utilisateur <code>root</code>. Si vous avez bien suivi les √©tapes pr√©c√©dentes, vous devriez √™tre connect√© √† MariaDB.</p><h3 id="php-et-mariadb" tabindex="-1">PHP et MariaDB <a class="header-anchor" href="#php-et-mariadb" aria-label="Permalink to &quot;PHP et MariaDB&quot;">‚Äã</a></h3><p>Lors de l&#39;installation de PHP, nous avons install√© l&#39;extension <code>php-mysql</code>. Cette extension permet d&#39;utiliser MariaDB avec PHP, elle est donc indispensable pour faire fonctionner vos sites webs si vous utilisez une base de donn√©es.</p><div class="tip custom-block"><p class="custom-block-title">Arr√™tons-nous un instant</p><ul><li>Qu&#39;est-ce que <code>php-mysql</code> ?</li><li>Pourquoi MySQL et pas MariaDB ?</li></ul></div><h2 id="les-virtualhost" tabindex="-1">Les virtualHost <a class="header-anchor" href="#les-virtualhost" aria-label="Permalink to &quot;Les virtualHost&quot;">‚Äã</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/apache2/sites-available/votre-virtual-host.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-apache vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">apache</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VirtualHost</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> *:9090</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ServerAdmin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> webmaster@localhost</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    DocumentRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /var/www/html/votre-dossier</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html/votre-dossier</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        Options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Indexes FollowSymLinks</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        AllowOverride</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> All</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        Require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> all granted</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ErrorLog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${APACHE_LOG_DIR}/error.log</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    CustomLog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${APACHE_LOG_DIR}/access.log combined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VirtualHost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Activer un virtual host :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2ensite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> votre-virtual-host</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>D√©sactiver un virtual host :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2dissite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> votre-virtual-host</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="installation-de-phpmyadmin" tabindex="-1">Installation de phpMyAdmin <a class="header-anchor" href="#installation-de-phpmyadmin" aria-label="Permalink to &quot;Installation de phpMyAdmin&quot;">‚Äã</a></h2><p>Maintenant que nous avons un serveur web et une base de donn√©es, nous allons installer phpMyAdmin. phpMyAdmin est un outil qui permet de g√©rer facilement une base de donn√©es. Il permet de cr√©er des bases de donn√©es, des tables, des utilisateurs, etc.</p><p>Vous l&#39;avez d√©j√† utilis√©, mais vous ne l&#39;avez jamais install√©. C&#39;est le moment de le faire.</p><h3 id="installation-3" tabindex="-1">Installation <a class="header-anchor" href="#installation-3" aria-label="Permalink to &quot;Installation&quot;">‚Äã</a></h3><p>Pour installer phpMyAdmin, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unzip</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://files.phpmyadmin.net/phpMyAdmin/5.2.0/phpMyAdmin-5.2.0-all-languages.zip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unzip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> phpMyAdmin-5.2.0-all-languages.zip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> phpMyAdmin-5.2.0-all-languages</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> phpmyadmin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> phpMyAdmin-5.2.0-all-languages.zip</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>L&#39;installation est le r√©sultat de plusieurs commandes :</p><ul><li><code>apt install unzip</code> : on installe l&#39;utilitaire <code>unzip</code>. C&#39;est un utilitaire qui permet de d√©compresser des fichiers <code>.zip</code>.</li><li><code>cd /var/www/html</code> : on se d√©place dans le dossier <code>/var/www/html</code>.</li><li><code>wget ‚Ä¶</code> : on t√©l√©charge le fichier <code>phpMyAdmin-5.2.0-all-languages.zip</code>. Depuis les serveurs de phpMyAdmin.</li><li><code>unzip ‚Ä¶</code> : on d√©compresse le fichier <code>phpMyAdmin-5.2.0-all-languages.zip</code>.</li><li><code>mv ‚Ä¶</code> : on renomme le dossier <code>phpMyAdmin-5.2.0-all-languages</code> en <code>phpmyadmin</code>. Car il est plus simple de taper <code>phpmyadmin</code> que <code>phpMyAdmin-5.2.0-all-languages</code>.</li><li><code>rm ‚Ä¶</code> : on supprime le fichier <code>phpMyAdmin-5.2.0-all-languages.zip</code>. Car il n&#39;est plus utile.</li></ul><div class="tip custom-block"><p class="custom-block-title">Arr√™tons-nous un instant</p><ul><li>Pourquoi utilisons-nous la version du site web de phpMyAdmin ? Et pas la version du d√©p√¥t Debian ?</li><li>√Ä votre avis est-ce suffisant pour que phpMyAdmin fonctionne ?</li></ul></div><h3 id="creer-un-virtual-host-dedie-a-phpmyadmin" tabindex="-1">Cr√©er un virtual host d√©di√© √† phpMyAdmin <a class="header-anchor" href="#creer-un-virtual-host-dedie-a-phpmyadmin" aria-label="Permalink to &quot;Cr√©er un virtual host d√©di√© √† phpMyAdmin&quot;">‚Äã</a></h3><p>Nous pourrions utiliser PhpMyAdmin en allant sur l&#39;adresse <code>http://ip_du_serveur/phpmyadmin</code>. Mais ce n&#39;est pas une bonne pratique. Nous allons donc cr√©er un virtual host d√©di√© √† phpMyAdmin.</p><p>Un virtual host permet de s√©parer les sites web. Par exemple, si vous avez un site web <code>exemple.com</code>, vous pouvez avoir un virtual host pour <code>exemple.com</code> et un autre pour <code>phpmyadmin.exemple.com</code>. Cela permet de s√©parer les sites web, et de ne pas avoir de conflit entre les deux.</p><p>√âvidemment au lyc√©e nous n&#39;avons pas de nom de domaine, par contre, votre serveur poss√®de une adresse IP et 65535 ports. Nous allons donc utiliser un port diff√©rent pour phpMyAdmin. Nous allons utiliser le port <code>9090</code>.</p><p>Pour cr√©er un virtual host, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/apache2/sites-available/phpmyadmin.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande va cr√©er un fichier <code>phpmyadmin.conf</code> dans le dossier <code>/etc/apache2/sites-available</code>. Ce fichier va contenir la configuration de notre virtual host.</p><p>Ce fichier va contenir la configuration de notre virtual host. Vous pouvez copier-coller le code suivant :</p><div class="language-apache vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">apache</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VirtualHost</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> *:9090</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ServerAdmin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> webmaster@localhost</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    DocumentRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /var/www/html/phpmyadmin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html/phpmyadmin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        Options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Indexes FollowSymLinks</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        AllowOverride</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> All</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        Require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> all granted</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ErrorLog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${APACHE_LOG_DIR}/error.log</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    CustomLog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${APACHE_LOG_DIR}/access.log combined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VirtualHost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Cette configuration va permettre d&#39;utiliser le port <code>9090</code> pour acc√©der √† phpMyAdmin. Vous pouvez maintenant enregistrer le fichier.</p><p>Pour activer le virtual host, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2ensite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> phpmyadmin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande va activer le virtual host <code>phpmyadmin.conf</code>. Vous pouvez maintenant red√©marrer Apache pour que les modifications soient prises en compte :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Arr√™tons-nous un instant</p><ul><li>Qu&#39;est-ce qu&#39;un virtual host ?</li><li>Pourquoi utilisons-nous le port <code>9090</code> ?</li><li>O√π avons-nous d√©fini le port <code>9090</code> ?</li><li>√Ä quoi sert la commande <code>a2ensite</code> ?</li><li>Pourquoi avons-nous besoin de red√©marrer Apache ?</li></ul></div><h3 id="acceder-a-phpmyadmin" tabindex="-1">Acc√©der √† phpMyAdmin <a class="header-anchor" href="#acceder-a-phpmyadmin" aria-label="Permalink to &quot;Acc√©der √† phpMyAdmin&quot;">‚Äã</a></h3><p>Si vous avez bien suivi les √©tapes pr√©c√©dentes, vous pouvez maintenant acc√©der √† phpMyAdmin. Vous pouvez utiliser l&#39;adresse suivante : <code>http://ip_du_serveur:9090</code>.</p><p><img src="`+o+'" alt="phpMyAdmin" loading="lazy"></p><p>Je vous laisse vous connecter √† phpMyAdmin, pour l&#39;instant vous n&#39;avez pas cr√©√© d&#39;utilisateur. Vous pouvez donc utiliser l&#39;utilisateur <code>root</code> pour vous connecter. Vous pouvez utiliser le mot de passe que vous avez d√©fini lors de l&#39;installation de MariaDB.</p><h2 id="conclusion" tabindex="-1">Conclusion <a class="header-anchor" href="#conclusion" aria-label="Permalink to &quot;Conclusion&quot;">‚Äã</a></h2><p>Vous avez maintenant un serveur web et une base de donn√©es. Vous pouvez maintenant cr√©er des sites web dynamiques. Vous pouvez utiliser PHP pour cr√©er des sites web dynamiques. Vous pouvez utiliser MySQL ou MariaDB pour stocker des donn√©es.</p>',189),h=s("iframe",{src:"https://giphy.com/embed/3o7btNa0RUYa5E7iiQ",width:"480",height:"480",frameBorder:"0",class:"giphy-embed",allowFullScreen:""},null,-1),v=e('<p>M√™me si l&#39;ensemble des √©tapes ne sont pas r√©ellement longues, il est important de bien comprendre ce que vous faites. Notamment pour la configuration de MariaDB et de phpMyAdmin. Si vous avez des questions, n&#39;h√©sitez pas √† me les poser.</p><p>Le d√©veloppeur cherche √† automatiser le plus possible son installation c&#39;est pour √ßa que par la suite nous verrons comment automatiser enti√®rement l&#39;installation de MariaDB, PHP et Apache gr√¢ce √† Docker et Docker Compose.</p><p>Cependant il est important de comprendre les commandes de bases ainsi que la notion de virtual host / port, car elles seront utilis√©es dans le cadre de Docker.</p><div class="danger custom-block"><p class="custom-block-title">Attention</p><p>M√™me si vous suivez l&#39;option SLAM, il ne faut pas perdre de vue qu&#39;en premi√®re ann√©e de BTS SIO vous allez devoir faire un projet de fin d&#39;ann√©e. Ce projet va vous permettre de mettre en pratique ce que vous avez appris en premi√®re ann√©e. Vous allez donc devoir cr√©er un site web dynamique. Vous allez donc devoir utiliser PHP, MySQL ou MariaDB, et Apache.</p><p>Lors de l&#39;examen final, vous serez √©galement amen√© √† cr√©er un site web dynamique. Vous allez donc devoir utiliser PHP, MySQL ou MariaDB, et Apache. Vous allez donc devoir utiliser les commandes que vous avez vu dans ce chapitre.</p></div><h2 id="synthese" tabindex="-1">Synth√®se <a class="header-anchor" href="#synthese" aria-label="Permalink to &quot;Synth√®se&quot;">‚Äã</a></h2><p>Vous avez √† votre disposition une synth√®se de ce TP disponible ici : <a href="/cheatsheets/serveur/debian-web.html">Aide m√©moire</a></p><h2 id="liens" tabindex="-1">Liens <a class="header-anchor" href="#liens" aria-label="Permalink to &quot;Liens&quot;">‚Äã</a></h2><ul><li><a href="https://httpd.apache.org/" target="_blank" rel="noreferrer">Apache</a></li><li><a href="https://mariadb.org/" target="_blank" rel="noreferrer">MariaDB</a></li><li><a href="https://www.phpmyadmin.net/" target="_blank" rel="noreferrer">PhpMyAdmin</a></li><li><a href="https://www.php.net/" target="_blank" rel="noreferrer">PHP</a></li><li><a href="https://www.mysql.com/" target="_blank" rel="noreferrer">MySQL</a></li></ul><details class="details custom-block"><summary>Bonus, acc√©der √† votre base de donn√©es depuis votre ordinateur</summary><p>Par d√©faut, le port 3306 est ferm√© sur Debian. Il faut donc l&#39;ouvrir pour que les applications puissent se connecter √† la base de donn√©es. La configuration se fait dans le fichier <code>/etc/mysql/mariadb.conf.d/50-server.cnf</code>.</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/mysql/mariadb.conf.d/50-server.cnf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Ajoutez la ligne suivante dans la section <code>[mysqld]</code>.</p><div class="language-ini vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bind-address</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 0.0.0.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Red√©marrer le serveur MySQL</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="tip-pourquoi" tabindex="-1">tip Pourquoi ? <a class="header-anchor" href="#tip-pourquoi" aria-label="Permalink to &quot;tip Pourquoi ?&quot;">‚Äã</a></h2><p>Par d√©faut, le serveur MySQL n&#39;√©coutera que les connexions locales. Il faut donc autoriser les connexions distantes en modifiant la valeur de <code>bind-address</code>. <strong>Si vous n&#39;en avez pas besoin, vous pouvez laisser la valeur par d√©faut.</strong></p><p>Changer se param√®tre sera utile quand vous souhaiterez acc√©der √† la base de donn√©es depuis un autre ordinateur (exemple d√©veloppement en C#).</p></details>',9),m=[u,d,c,h,v];function k(b,g,y,F,f,q){return t(),l("div",null,m)}const z=r(p,[["render",k]]);export{w as __pageData,z as default};
