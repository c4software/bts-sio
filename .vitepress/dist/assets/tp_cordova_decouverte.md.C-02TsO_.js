import{_ as e,c as a,o as i,U as s}from"./chunks/framework.aGaNZw_P.js";const n="/assets/run.2b79kyRF.png",l="/assets/remote_debug.BH2LWBR6.png",r="/assets/remote_debug_show.DuU5spf4.png",t="/assets/inspect.CwMV2lD9.png",F=JSON.parse('{"title":"DÃ©couverte de Cordova","description":"Dans ce TP vous allez dÃ©couvrir la ligne de commande Cordova et crÃ©er votre premier TP. Comme les autres TP, utiliser lâ€™aide mÃ©moire Cordova pour trouver les bonnes commandes Ã  chaque Ã©tape.","frontmatter":{"description":"Dans ce TP vous allez dÃ©couvrir la ligne de commande Cordova et crÃ©er votre premier TP. Comme les autres TP, utiliser lâ€™aide mÃ©moire Cordova pour trouver les bonnes commandes Ã  chaque Ã©tape."},"headers":[],"relativePath":"tp/cordova/decouverte.md","filePath":"tp/cordova/decouverte.md","lastUpdated":1640899309000}'),o={name:"tp/cordova/decouverte.md"},p=s(`<h1 id="decouverte-de-cordova" tabindex="-1">DÃ©couverte de Cordova <a class="header-anchor" href="#decouverte-de-cordova" aria-label="Permalink to &quot;DÃ©couverte de Cordova&quot;">â€‹</a></h1><p>Dans ce TP vous allez dÃ©couvrir la ligne de commande Cordova et crÃ©er votre premier TP. Comme les autres TP, utiliser lâ€™aide mÃ©moire Cordova pour trouver les bonnes commandes Ã  chaque Ã©tape.</p><h2 id="ressources" tabindex="-1">Ressources <a class="header-anchor" href="#ressources" aria-label="Permalink to &quot;Ressources&quot;">â€‹</a></h2><ul><li><a href="https://cordova.apache.org" target="_blank" rel="noreferrer">Le site Cordova</a></li><li><a href="https://cordova.apache.org/plugins/" target="_blank" rel="noreferrer">Les plug-ins Cordova</a></li><li><a href="https://github.com/c4software/cheatsheet/tree/master/cordova" target="_blank" rel="noreferrer">Aide mÃ©moire Cordova</a></li></ul><h2 id="installation-de-cordova" tabindex="-1">Installation de Cordova <a class="header-anchor" href="#installation-de-cordova" aria-label="Permalink to &quot;Installation de Cordova&quot;">â€‹</a></h2><p>Pour pouvoir utiliser Cordova, vous allez devoir installer le <code>cordova-cli</code>. La ligne de commande Cordova utilise NodeJS pour fonctionner.</p><p>(Normalement NodeJS est dÃ©jÃ  installÃ© sur votre poste).</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cordova</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Lâ€™installation prend quelques minutes, un certain nombre de dÃ©pendances NodeJS sont nÃ©cessaires au bon fonctionnement.</p><p>âš ï¸ Lâ€™installation de Cordova est Ã  effectuer quâ€™une seule fois sur lâ€™ordinateur.</p><h2 id="android" tabindex="-1">Android <a class="header-anchor" href="#android" aria-label="Permalink to &quot;Android&quot;">â€‹</a></h2><p>Dans le TP, vous allez devoir compiler pour la plateforme Android. VÃ©rifier que celle-ci est bien installÃ©e en le lanÃ§ant une premiÃ¨re fois.</p><ul><li>Installer la derniÃ¨re version du SDK &amp; la version 28.</li></ul><h2 id="creation-du-projet-Â«-demo-Â»" tabindex="-1">CrÃ©ation du projet Â« dÃ©mo Â» <a class="header-anchor" href="#creation-du-projet-Â«-demo-Â»" aria-label="Permalink to &quot;CrÃ©ation du projet Â« dÃ©mo Â»&quot;">â€‹</a></h2><p>La ligne de commande cordova fournit lâ€™ensemble des Ã©lÃ©ments pour crÃ©er un nouveau projet. Le projet que vous allez crÃ©er contient une premiÃ¨re Â« page Web Â» permettant dâ€™avoir un projet Cordova directement fonctionnel.</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> demo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.chevrollier.demo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Demo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>âš ï¸ Plusieurs paramÃ¨tres sont nÃ©cessaires Ã  la commande, attention Ã  bien les choisir du maintenant.</p><h2 id="ajout-d-une-plateforme" tabindex="-1">Ajout dâ€™une plateforme <a class="header-anchor" href="#ajout-d-une-plateforme" aria-label="Permalink to &quot;Ajout dâ€™une plateforme&quot;">â€‹</a></h2><p>Votre projet est maintenant prÃªt vous allez pouvoir ajout une plateforme. Pour rappel Cordova est un framework de dÃ©veloppement capable de gÃ©rer plusieurs plateformes :</p><ul><li>android</li><li>ios</li><li>browser</li><li>â€¦</li></ul><p>Pour commencer nous allons ajouter la plateforme Â« gÃ©nÃ©rique Â» Ã  savoir browser, celle-ci nous permettra de tester simplement notre configuration.</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> platform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> browser</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Using</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cordova-fetch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cordova-browser@~4.1.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Adding</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> browser</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Creating</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Browser</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Path:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> platforms/browser</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Discovered</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;cordova-plugin-whitelist&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config.xml.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Adding</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Installing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;cordova-plugin-whitelist&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> browser</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Adding</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cordova-plugin-whitelist</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Saved</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;cordova-plugin-whitelist&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config.xml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--save</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> autosave</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> detected</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Saving</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> browser@~4.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> into</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config.xml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>La plateforme Ã©tant maintenant ajoutÃ© nous pouvons Â« dÃ©marrer Â» Cordova en utilisant la commande :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> browser</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="`+n+'" alt="Premier lancement" loading="lazy"></p><p>Et voilÃ , le code de dÃ©mo tourne dans votre navigateur, gÃ©nial non ? Bon je vois bien que vous Ãªtes dÃ©Ã§uâ€¦</p><h2 id="ajouter-une-seconde-plateforme" tabindex="-1">Ajouter une seconde plateforme <a class="header-anchor" href="#ajouter-une-seconde-plateforme" aria-label="Permalink to &quot;Ajouter une seconde plateforme&quot;">â€‹</a></h2><p>Bon lâ€™intÃ©rÃªt de Cordova câ€™est vraiment le mobile, lâ€™utilisation de la plateforme Â« browser Â» va nous permettre de valider notre dÃ©veloppement sans avoir Ã  brancher son mobile pour valider le fonctionnement.</p><p>Pour ajouter la plateforme Android la commande est la suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> platform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Une fois ajouter nous allons pouvoir Â« lancer Â» / Â« compiler Â» des applications pour Android.</p><p>âš ï¸ Attention, Ã  cette Ã©tape nous avons besoin dâ€™un poste correctement Ã©quipÃ© pour compiler de lâ€™Android</p><h2 id="lancer-l-application" tabindex="-1">Lancer lâ€™application <a class="header-anchor" href="#lancer-l-application" aria-label="Permalink to &quot;Lancer lâ€™application&quot;">â€‹</a></h2><p>Pour lancer lâ€™application, vous avez deux solutions :</p><ul><li>Votre tÃ©lÃ©phone.</li><li>Un Ã©mulateur (celui du SDK, Bluestack, Genymotion).</li></ul><h2 id="installation-de-genymotion" tabindex="-1">Installation de Genymotion <a class="header-anchor" href="#installation-de-genymotion" aria-label="Permalink to &quot;Installation de Genymotion&quot;">â€‹</a></h2><p>Sous Windows vous avez la possibilitÃ© dâ€™installer lâ€™Ã©mulateur Genymotion, pour installer celui-ci rendez-vous sur <a href="https://www.genymotion.com/#!/" target="_blank" rel="noreferrer">le site officiel</a>.</p><p>Sur lâ€™Ã©mulateur le dÃ©bogage est dÃ©jÃ  activÃ©.</p><h2 id="lancer-l-application-sur-votre-telephone" tabindex="-1">Lancer lâ€™application sur votre tÃ©lÃ©phone <a class="header-anchor" href="#lancer-l-application-sur-votre-telephone" aria-label="Permalink to &quot;Lancer lâ€™application sur votre tÃ©lÃ©phone&quot;">â€‹</a></h2><p>Maintenant que nous avons notre plateforme de prÃªte, lanÃ§ons lâ€™application sur un tÃ©lÃ©phone Android (oui, pour iOs il faut un Mac).</p><h3 id="_1-activer-le-mode-developpeur" tabindex="-1">1. Activer le mode dÃ©veloppeur <a class="header-anchor" href="#_1-activer-le-mode-developpeur" aria-label="Permalink to &quot;1. Activer le mode dÃ©veloppeur&quot;">â€‹</a></h3><p>Sur votre tÃ©lÃ©phone, vous devez activer le mode dÃ©veloppeur pour lancer une application depuis un ordinateur. Pour lâ€™activer, rendez-vous dans les ParamÃ¨tres gÃ©nÃ©raux de lâ€™onglet SystÃ¨me, pour ensuite ouvrir le volet Ã€ propos de lâ€™appareil. Une fois que cela est fait, il vous suffit de tapoter par quatre fois le NumÃ©ro de Build pour dÃ©bloquer les Options pour les dÃ©veloppeurs.</p><p>Le mode dÃ©veloppeur dÃ©bloque les options Â« avancÃ© Â» de votre tÃ©lÃ©phone Android. Vous allez pouvoir activer le lancement Ã  distance dâ€™application (avec adb).</p><p>Dans le nouveau Menu activer :</p><ul><li>Le mode dÃ©bogage USB pour copier des donnÃ©es entre le terminal et lâ€™ordinateur, installer des applications sur votre appareil.</li></ul><h3 id="_2-installer-le-driver-adb-pour-l-ordinateur" tabindex="-1">2. Installer le driver adb pour lâ€™ordinateur <a class="header-anchor" href="#_2-installer-le-driver-adb-pour-l-ordinateur" aria-label="Permalink to &quot;2. Installer le driver adb pour lâ€™ordinateur&quot;">â€‹</a></h3><p>Votre tÃ©lÃ©phone est un pÃ©riphÃ©rique usb comment un autre, pour dialoguer avec votre ordinateur a besoin dâ€™un driver. De base votre tÃ©lÃ©phone est une sorte de Â« clef usb Â». Une fois le debug actif il va devenir un Â« Android Debug Bridge Device Â». Ce mode-lÃ  nâ€™est par dÃ©faut pas connu par Windows (quelques soit la version), vous devez donc installer un driver. Nous allons utiliser Â« Universal Adb Drivers Â» fourni par Clockworkmod :</p><ul><li>Brancher votre tÃ©lÃ©phone au PC.</li><li><a href="https://adb.clockworkmod.com/" target="_blank" rel="noreferrer">TÃ©lÃ©charger</a></li></ul><h3 id="_3-lancer-l-application-sur-votre-mobile" tabindex="-1">3. Lancer lâ€™application sur votre mobile <a class="header-anchor" href="#_3-lancer-l-application-sur-votre-mobile" aria-label="Permalink to &quot;3. Lancer lâ€™application sur votre mobile&quot;">â€‹</a></h3><p>Maintenant que votre mobile est reconnu (il faut peut-Ãªtre dÃ©brancher et rebrancher votre mobile pour que Ã§a fonctionne Ã  100%), nous allons lancer lâ€™application sur votre mobile, pour Ã§a câ€™est trÃ¨s simple il suffit de faire sur votre ordinateur :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_4-voir-debugger-le-code-de-l-application-sur-votre-mobile" tabindex="-1">4. Voir / DÃ©bugger le code de lâ€™application sur votre mobile <a class="header-anchor" href="#_4-voir-debugger-le-code-de-l-application-sur-votre-mobile" aria-label="Permalink to &quot;4. Voir / DÃ©bugger le code de lâ€™application sur votre mobile&quot;">â€‹</a></h3><p>Maintenant que lâ€™application fonctionne sur votre mobile, vous pouvez le dÃ©bugger en temps rÃ©el. Les modifications ne sont bien sÃ»r par permanente par contre elle vous permette de tester des modifications sans pour autant avoir a recompiler votre application. Pour Ã§a rien de plus simple il suffit dâ€™utiliser Google Chrome, dans les options Â« avancÃ©s Â» de Chrome nous avons le remote debbugging et câ€™est cette option qui nous intÃ©resse :</p><ul><li>Ouvrez un nouvel onglet Chrome <a href="chrome://inspect/#devices" target="_blank" rel="noreferrer">chrome://inspect/#devices</a></li></ul><p><img src="'+l+'" alt="Remote" loading="lazy"></p><ul><li>Patientez quelques secondes votre mobile doit apparaitre dans la liste.</li></ul><p><img src="'+r+'" alt="Remote" loading="lazy"> Votre application (ainsi que vos Tabs Chrome) doit apparaitre dans la liste</p><ul><li>SÃ©lectionnez le Â« Inspect Â» qui correspond Ã  votre application.</li></ul><p><img src="'+t+`" alt="inspect" loading="lazy"></p><p>Tenter des choses dans la Â« Console Â» qui vient de sâ€™ouvrir.</p><h2 id="ajouter-un-premier-plug-in" tabindex="-1">Ajouter un premier plug-in <a class="header-anchor" href="#ajouter-un-premier-plug-in" aria-label="Permalink to &quot;Ajouter un premier plug-in&quot;">â€‹</a></h2><p>Cordova fonctionne avec des plug-ins, Ã  chaque fois que vous voulez utiliser une fonctionnalitÃ© Â« native Â» de votre mobile vous devez installer un plug-in. Les plug-ins sont une combinaison de :</p><ul><li>Le code natif (Android, iOs, â€¦)</li><li>Un bridge (interface de communication) JavaScript.</li></ul><p>Les plug-ins sont disponibles en ligne sur le site :</p><ul><li><a href="https://cordova.apache.org/plugins/" target="_blank" rel="noreferrer">Plugin Cordova</a></li></ul><p>Comme toujours, il est possible de trouver des plug-ins (non officel) sur Gitub par exemple, cependant il faut faire attention Ã  leur contenu (il vaux mieux Ãªtre prudentâ€¦).</p><h3 id="_1-ajouter-un-plug-in" tabindex="-1">1. Ajouter un plug-in <a class="header-anchor" href="#_1-ajouter-un-plug-in" aria-label="Permalink to &quot;1. Ajouter un plug-in&quot;">â€‹</a></h3><p>Pour ajouter un plugin il suffit de faire :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">monPlugi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Pour lâ€™exemple nous allons ajouter le plug-in <code>cordova-plugin-camera</code></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cordova-plugin-camera</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Quelques secondes plus tard, votre application est <code>capable</code> dâ€™utiliser la CamÃ©ra de votre tÃ©lÃ©phone ğŸ‰ğŸ‰</p><h3 id="_2-utiliser-le-plug-in" tabindex="-1">2. Utiliser le plug-in <a class="header-anchor" href="#_2-utiliser-le-plug-in" aria-label="Permalink to &quot;2. Utiliser le plug-in&quot;">â€‹</a></h3><p>Pour le test nous allons utiliser la console pour tester le plug-in :</p><ul><li>Lancer/Compiler lâ€™application Ã  nouveau sur votre mobile :</li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>Lancer le Remote Debug sur Chrome.</li><li>Dans la console qui vient de sâ€™ouvrir, faites :</li></ul><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cameraSuccess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cameraError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">navigator.camera.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPicture</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cameraSuccess, cameraError, {});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Le <code>{}</code> est la liste des options, tester quelques options <a href="https://www.npmjs.com/package/cordova-plugin-camera#module_camera.CameraOptions" target="_blank" rel="noreferrer">disponible ici</a></p><h3 id="_3-modifier-le-code-de-demo" tabindex="-1">3. Modifier le code de dÃ©mo <a class="header-anchor" href="#_3-modifier-le-code-de-demo" aria-label="Permalink to &quot;3. Modifier le code de dÃ©mo&quot;">â€‹</a></h3><p>Modifier le code de dÃ©monstration pour utiliser le plug-in de maniÃ¨re permanente.</p><ul><li>Ajouter un bouton.</li><li>Ajouter une fonction javascript pour dÃ©clencher la camÃ©ra</li><li>Ajouter un Ã©vÃ¨nement <code>onClick</code> sur le bouton que vous avez crÃ©Ã©</li></ul><h2 id="ajouter-un-second-plug-in" tabindex="-1">Ajouter un second plug-in <a class="header-anchor" href="#ajouter-un-second-plug-in" aria-label="Permalink to &quot;Ajouter un second plug-in&quot;">â€‹</a></h2><p>Pour le second plug-in, nous allons ajouter un plug-in qui nâ€™a pas comme vocation directe dâ€™exposer un bridge en JavaScript. Nous allons ajouter un plug-in qui intÃ¨gre encore un peu plus une application hybride dans le systÃ¨me Android <code>cordova-plugin-headercolor</code></p><p>Le plug-in permet de :</p><ul><li>HeaderColor is a cordova plugin to change color of header in multitask view. Android devices.</li></ul><p>Les sources du plug-in sont <a href="https://github.com/tomloprod/cordova-plugin-headercolor" target="_blank" rel="noreferrer">disponibles ici</a></p><h3 id="_1-ajouter-le-plug-in" tabindex="-1">1. Ajouter le plug-in <a class="header-anchor" href="#_1-ajouter-le-plug-in" aria-label="Permalink to &quot;1. Ajouter le plug-in&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cordova-plugin-headercolor</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-ajouter-la-configuration-du-plug-in" tabindex="-1">2. Ajouter la configuration du plug-in <a class="header-anchor" href="#_2-ajouter-la-configuration-du-plug-in" aria-label="Permalink to &quot;2. Ajouter la configuration du plug-in&quot;">â€‹</a></h3><p>Ajouter dans le fichier <code>config.xml</code> lâ€™Ã©lÃ©ment suivant :</p><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">preference</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HeaderColor&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#2959cb&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-lancer-l-application-pour-voir-le-changement" tabindex="-1">3. Lancer lâ€™application pour voir le changement <a class="header-anchor" href="#_3-lancer-l-application-pour-voir-le-changement" aria-label="Permalink to &quot;3. Lancer lâ€™application pour voir le changement&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,94),d=[p];function u(h,c,k,g,m,v){return i(),a("div",null,d)}const C=e(o,[["render",u]]);export{F as __pageData,C as default};
