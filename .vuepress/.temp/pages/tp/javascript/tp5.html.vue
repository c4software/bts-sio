<template><h1 id="les-librairies-pour-vous-sauvez" tabindex="-1"><a class="header-anchor" href="#les-librairies-pour-vous-sauvez" aria-hidden="true">#</a> Les librairies pour vous sauvez</h1>
<p>Nous avons vu ensemble que jQuery Ã©tait un vrai gain te temps et de ligne en termes d'Ã©criture de JavaScript. MÃªme si celui-ci n'est plus Â« aussi obligatoire Â» / Â« courant Â» qu'il y a quelques annÃ©es ; celui-ci reste quand mÃªme un incontournable que vous devez au moins connaitre.</p>
<div class="custom-container tip"><p class="custom-container-title">2021 ?</p>
<p>En 2021, j'ai envie de dire, vous n'avez plus besoin de jQuer ! Nous avons des supers alternatives sans librairies (ES6, etc.), et si vous voulez gagner du temps ? Je vous conseille plutÃ´t la mise en place de Framework autorisant Ã  Ãªtre intÃ©grÃ© comme des librairies (c'est-Ã -dire dans un petit morceau du site) comme par exemple VueJS.</p>
<p><strong>Attention, je ne dis pas que jQuery est un mauvais choix ! Je pense juste que celui-ci ne doit pas/plus Ãªtre automatique en 2021</strong></p>
</div>
<p>Dans ce TP nous allons voir l'avantage des librairies Â« add-on Â» que nous avons Ã  disposition sur Internet.</p>
<h2 id="creer-une-page" tabindex="-1"><a class="header-anchor" href="#creer-une-page" aria-hidden="true">#</a> CrÃ©er une page</h2>
<p>PremiÃ¨re Ã©tape, nous allons crÃ©er une page vide, elle nous servira de base de travail :</p>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">N'oubliez pas</p>
<p>Votre IDE intÃ¨gre trÃ¨s certainement un template permettant la crÃ©ation du fichier en automatique. Exemple sous VSCode il suffit de saisir :</p>
<p><code>html:5</code> suivi de la touche <code>tab</code></p>
</div>
<p>Notre page est vide ! Profitons-en pour ajouter jQuery, vous avez deux choix possibles :</p>
<ul>
<li>TÃ©lÃ©charger jQuery</li>
<li>Utiliser un CDN</li>
</ul>
<p>Il n'y a pas de rÃ©ponse magique, l'un comme l'autre Ã§a va fonctionner. Cependant, ayez en tÃªte que si vous choisissez de passer par un CDN <strong>vous devrez avoir Internet</strong> pour que votre site fonctionne.</p>
<div class="custom-container danger"><p class="custom-container-title">Et la sÃ©cu ?</p>
<p>Autre point important, jQuery Â« c'est que du JavaScript Â», en utilisant un CDN vous tÃ©lÃ©chargez du code depuis Internet sans savoir ce qui est dedans. <strong>Pire</strong> le contenu peut-Ãªtre diffÃ©rent, voir modifiÃ© par un tiers plus tard dans la vie de votre site Internet.</p>
<p><strong>Donc attention</strong></p>
</div>
<p>Dans, notre cas, il suffit d'ajouter avant la fermeture de <code>&lt;/body&gt;</code> :</p>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="votre-premiere-librairie-datatable" tabindex="-1"><a class="header-anchor" href="#votre-premiere-librairie-datatable" aria-hidden="true">#</a> Votre premiÃ¨re librairie : Datatable</h2>
<p>C'est chiant les tableaux non ? La pagination vous n'aimez pas Ã§a non ? Trier les donnÃ©es ne vous intÃ©resse pas ? Et bien, rassurez-vous ! Globalement personne n'aime Ã§a ! Les dÃ©veloppeurs Ã©tant globalement fainÃ©antsâ€¦ Ils ont crÃ©Ã© des librairies permettant de ne plus Ã©crire le code Â« chiant Â». La gestion des tableaux en faisant partie je vous propose de mettre en place dans votre site Internet l'excellente librairie <a href="https://datatables.net/" target="_blank" rel="noopener noreferrer">Datatable<ExternalLinkIcon/></a>.</p>
<p>Comme pour jQuery vous avez deux choix, le CDN ou la version tÃ©lÃ©chargÃ©s. Dans ce TP je vous propose d'utiliser la version CDN (par simplicitÃ©), nous allons donc ajouter dans notre code :</p>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span>
  <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span>
  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css<span class="token punctuation">"</span></span>
<span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="ajouter-une-table" tabindex="-1"><a class="header-anchor" href="#ajouter-une-table" aria-hidden="true">#</a> Ajouter une table</h3>
<p>Nous faisons du JavaScript pas du HTML, je vous laisse donc Ã©crire votre tableau, quelques consignes cependant :</p>
<ul>
<li>Au moins 5 colonnes. (<code>td*5</code>).</li>
<li>Au moins 100 lignes. (<code>tr*100</code>, <code>tr*100&gt;td*5</code>).</li>
<li>Une ligne d'entÃªte. (<code>thead&gt;tr&gt;th</code>).</li>
<li>Doit possÃ©der un id. (<code>table#myTable</code>).</li>
</ul>
<center>
<p>N'oubliez pasâ€¦ Votre IDE va vous aiderâ€¦ Il contient <code>emmet</code> !</p>
<iframe src="https://giphy.com/embed/0DYipdNqJ5n4GYATKL" width="480" height="360" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
<p>Vous pouvez donc Ã©crire :</p>
<p><code>table#myTable&gt;(thead&gt;tr&gt;th*5&gt;lorem1)+(tbody&gt;tr*100&gt;td*5&gt;lorem)</code> puis <code>tab</code>.</p>
</center>
<h3 id="transformer-votre-tableau" tabindex="-1"><a class="header-anchor" href="#transformer-votre-tableau" aria-hidden="true">#</a> Transformer votre tableau</h3>
<p>Nous avons maintenant une page, un tableauâ€¦ Et un truc pas vraiment sexy. C'est lÃ  ou Datatable va entrer en jeu. Avec un simple petit ajoute de JavaScript dans votre page, nous allons transformer ce simple tableau en SUPER TABLEAU.</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#myTable"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">DataTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Je vous laisse mettre le code.</p>
<h2 id="votre-2de-librairie-fullcalendar" tabindex="-1"><a class="header-anchor" href="#votre-2de-librairie-fullcalendar" aria-hidden="true">#</a> Votre 2de librairie : FullCalendar</h2>
<p>Dans le mÃªme genre, nous avons Ã©galement FullCalendar. <a href="https://fullcalendar.io/" target="_blank" rel="noopener noreferrer">FullCalendar<ExternalLinkIcon/></a> est une librairie qui nous affiche un calendrier. Ce nâ€™est certes pas une problÃ©matique que vous allez souvent rencontrer, mais si Ã§a vous arrive avant de vouloir tout dÃ©velopper vous-mÃªme sachez que certains ont dÃ©jÃ  rÃ©flÃ©chi Ã  ce sujetâ€¦ Et mieux que vous !</p>
<p>Je vous propose d'installer FullCalendar <a href="https://fullcalendar.io/docs/initialize-globals" target="_blank" rel="noopener noreferrer">dans votre site<ExternalLinkIcon/></a>:</p>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span>
  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/fullcalendar@5.5.1/main.min.css<span class="token punctuation">"</span></span>
  <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span>
<span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/fullcalendar@5.5.1/main.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"DOMContentLoaded"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> calendarEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"calendar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> calendar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FullCalendar<span class="token punctuation">.</span>Calendar</span><span class="token punctuation">(</span>calendarEl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      initialView<span class="token operator">:</span> <span class="token string">"dayGridMonth"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    calendar<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>calendar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>âœ‹ Hey ! Mais il n'y a pas de jQuery ici ? Effectivementâ€¦ Pas de jQuery ici, FullCalendar n'a pas de dÃ©pendance Ã  jQuery.</p>
<h3 id="ajouter-des-evenements" tabindex="-1"><a class="header-anchor" href="#ajouter-des-evenements" aria-hidden="true">#</a> Ajouter des Ã©vÃ©nements</h3>
<p>Pour ajouter des Ã©venements, <a href="https://fullcalendar.io/docs/event-parsing" target="_blank" rel="noopener noreferrer">il suffit de suivre la documentation par exemple<ExternalLinkIcon/></a></p>
<p>Exemple :</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"DOMContentLoaded"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> calendarEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"calendar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> calendar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FullCalendar<span class="token punctuation">.</span>Calendar</span><span class="token punctuation">(</span>calendarEl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    initialView<span class="token operator">:</span> <span class="token string">"dayGridMonth"</span><span class="token punctuation">,</span>
    events<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        title<span class="token operator">:</span> <span class="token string">"New Year"</span><span class="token punctuation">,</span>
        start<span class="token operator">:</span> <span class="token string">"2021-01-01"</span><span class="token punctuation">,</span>
        end<span class="token operator">:</span> <span class="token string">"2021-01-01"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        title<span class="token operator">:</span> <span class="token string">"Valentin Brosseau"</span><span class="token punctuation">,</span>
        start<span class="token operator">:</span> <span class="token string">"2021-28-02"</span><span class="token punctuation">,</span>
        end<span class="token operator">:</span> <span class="token string">"2021-28-02"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  calendar<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="et-si-nous-voulons-une-carte" tabindex="-1"><a class="header-anchor" href="#et-si-nous-voulons-une-carte" aria-hidden="true">#</a> Et si nous voulons une carte ?</h2>
<p>Google Maps c'est pratique ? Si vous souhaitez un Google Maps intÃ©grable et manipulable en code directement dans votre code, c'est possible ; et c'est plutÃ´t simpleâ€¦</p>
<p>GrÃ¢ce Ã  <a href="https://leafletjs.com/" target="_blank" rel="noopener noreferrer">Leaflet<ExternalLinkIcon/></a> rÃ©aliser des cartes c'est trÃ¨s simple! Pour l'ajouter dans votre projet :</p>
<ul>
<li>Dans votre head :</li>
</ul>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span>
  <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span>
  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/leaflet@1.7.1/dist/leaflet.css<span class="token punctuation">"</span></span>
  <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==<span class="token punctuation">"</span></span>
  <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span>
<span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/leaflet@1.7.1/dist/leaflet.js<span class="token punctuation">"</span></span>
  <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==<span class="token punctuation">"</span></span>
  <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span>
<span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">#mapid</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul>
<li>Dans le body, Ã  l'endroit oÃ¹ vous souhaiterez avoir la carte :</li>
</ul>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mapid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> mymap <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">"mapid"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">47.4661788</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5560418</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">tileLayer</span><span class="token punctuation">(</span><span class="token string">"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    maxZoom<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    attribution<span class="token operator">:</span>
      <span class="token string">'Map data &amp;copy; &lt;a href="https://www.openstreetmap.org/copyright">OpenStreetMap&lt;/a> contributors'</span><span class="token punctuation">,</span>
    id<span class="token operator">:</span> <span class="token string">"mapbox/streets-v11"</span><span class="token punctuation">,</span>
    tileSize<span class="token operator">:</span> <span class="token number">512</span><span class="token punctuation">,</span>
    zoomOffset<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>mymap<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Et c'est TOUT ! Votre carte est maintenant disponible.</p>
<p>Je vous laisse intÃ©grer ce code.</p>
<h3 id="ajouter-un-marker-dans-la-carte" tabindex="-1"><a class="header-anchor" href="#ajouter-un-marker-dans-la-carte" aria-hidden="true">#</a> Ajouter un marker dans la carte</h3>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token keyword">var</span> marker <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">marker</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">47.4661788</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5560418</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>mymap<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>C'est Ã  vous, je vous laisse ajouter le code.</p>
<h2 id="allons-plus-loin-vuejs-en-tant-que-librairie" tabindex="-1"><a class="header-anchor" href="#allons-plus-loin-vuejs-en-tant-que-librairie" aria-hidden="true">#</a> Allons plus loinâ€¦ VueJS en tant que librairie</h2>
<p>Utiliser du code automatique c'est bienâ€¦ Mais nous avons accÃ¨s Ã  d'autres librairies ! Des librairies, un peu comme jQuery, des librairies permettant d'Ã©crire moins de code, rendre notre code dynamique, globalement mieux travailler.</p>
<p>Vous allez voir c'est trÃ¨s simple, mais alors trÃ¨s simple.</p>
<ul>
<li>Dans votre head :</li>
</ul>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul>
<li>Dans votre page :</li>
</ul>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>{{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Click<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clickMe<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
      message<span class="token operator">:</span> <span class="token string">"Bonjour ðŸ‘‹!"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">clickMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Click YES"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>ðŸ‘€ Je vous laisse tester.</p>
<h2 id="allons-plus-loin-vuejs-et-leaflet" tabindex="-1"><a class="header-anchor" href="#allons-plus-loin-vuejs-et-leaflet" aria-hidden="true">#</a> Allons plus loinâ€¦ VueJS et Leaflet</h2>
<p>Avec le code prÃ©cÃ©dent, nous avons vu qu'il Ã©tait finalement assez simple d'ajouter VueJS dans un site existant. Nous pourrions utiliser l'excellent Vue2Leafletâ€¦ Mais finalement ce nâ€™est pas forcÃ©ment obligatoire.</p>
<p>En utilisant le code du premier exemple, je vous propose d'ajouter une carte interactive. Cette fois-ci pas de code fourni. ~Vous allez l'Ã©crire~, nous allons l'Ã©crire ensemble. Je vous offre juste le visuel Ã  rÃ©aliser (vous allez Ãªtre dÃ©Ã§u ðŸ‘€) :</p>
<p><img src="@source/tp/javascript/res/projet.png" alt="AperÃ§u du projet"></p>
<p>On attaque ?</p>
</template>
