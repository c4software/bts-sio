<template><h1 id="introduction-a-laravel" tabindex="-1"><a class="header-anchor" href="#introduction-a-laravel" aria-hidden="true">#</a> Introduction √† Laravel</h1>
<p><img src="@source/tp/laravel/ressources/logo.png" alt="Laravel"></p>
<details class="custom-container details"><summary>Sommaire</summary>
<nav class="table-of-contents"><ul><li><RouterLink to="#introduction">Introduction</RouterLink><ul><li><RouterLink to="#windows">Windows</RouterLink></li><li><RouterLink to="#linux">Linux</RouterLink></li><li><RouterLink to="#macos">MacOS</RouterLink></li></ul></li><li><RouterLink to="#installer-laravel">Installer Laravel</RouterLink></li><li><RouterLink to="#creer-le-premier-projet">Cr√©er le premier Projet</RouterLink></li><li><RouterLink to="#initialisation">Initialisation</RouterLink></li><li><RouterLink to="#lancer-le-projet-d-exemple">Lancer le projet d‚Äôexemple</RouterLink></li><li><RouterLink to="#modification-du-template-par-defaut">Modification du template par d√©faut</RouterLink></li><li><RouterLink to="#ajouter-une-nouvelle-route">Ajouter une nouvelle Route</RouterLink></li><li><RouterLink to="#ajouter-une-nouvelle-vue">Ajouter une nouvelle vue</RouterLink><ul><li><RouterLink to="#creer-le-layout">Cr√©er le layout</RouterLink></li><li><RouterLink to="#utiliser-le-layout-dans-welcome-blade-php">Utiliser le layout dans welcome.blade.php</RouterLink></li><li><RouterLink to="#utiliser-le-layout-dans-la-route-pong">Utiliser le layout dans la route Pong</RouterLink></li></ul></li><li><RouterLink to="#les-composants">Les composants</RouterLink></li><li><RouterLink to="#utiliser-un-controleur">Utiliser un contr√¥leur</RouterLink><ul><li><RouterLink to="#le-controleur">Le Contr√¥leur:</RouterLink></li><li><RouterLink to="#les-routes">Les routes</RouterLink></li><li><RouterLink to="#les-vues">Les vues</RouterLink></li></ul></li><li><RouterLink to="#la-base-de-donnees">La base de donn√©es</RouterLink><ul><li><RouterLink to="#definir-la-migration-structure-de-la-table">D√©finir la migration (structure de la table)</RouterLink></li><li><RouterLink to="#definition-du-modele">D√©finition du mod√®le</RouterLink></li><li><RouterLink to="#creer-reellement-vos-tables">Cr√©er r√©ellement vos tables</RouterLink></li><li><RouterLink to="#requeter-votre-table">Requ√™ter votre table</RouterLink></li><li><RouterLink to="#finaliser">Finaliser</RouterLink></li><li><RouterLink to="#changer-l-etat-d-une-todo">Changer l&#39;√©tat d&#39;une TODO</RouterLink></li><li><RouterLink to="#supprimer-une-todo">Supprimer une TODO</RouterLink></li><li><RouterLink to="#evolution-1">√âvolution 1</RouterLink></li></ul></li></ul></nav>
</details>
<p>Dans ce TP nous allons couvrir l‚Äôinstallation, la configuration et la cr√©ation d‚Äôun premier projet ¬´ d√©mo ¬ª √† base de Laravel.</p>
<h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h2>
<p>Pour pouvoir utiliser Laravel, nous allons avoir besoin de diff√©rents outils :</p>
<ul>
<li>PHP7</li>
<li>Composer</li>
</ul>
<p>Il y a bien plus de d√©pendances, mais celles-ci seront r√©cup√©r√©es automatiquement par <code>Composer</code></p>
<h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows" aria-hidden="true">#</a> Windows</h3>
<p>Pour ¬´ installer ¬ª Laravel sous Windows, vous devez dans un premier temps installer PHP7 sur votre machine. Dans un premier temps, installer Wamp + PHP7 :</p>
<ul>
<li><a href="http://www.wampserver.com/fr/#download-wrapper" target="_blank" rel="noopener noreferrer">Installation de Wamp.<ExternalLinkIcon/></a></li>
<li>Installer Wamp, et v√©rifier que celui-ci fonctionne correctement.</li>
<li>Activer l‚Äôextension <code>php_openssl.dll</code> dans la liste des extensions PHP.</li>
</ul>
<h4 id="installer-composer" tabindex="-1"><a class="header-anchor" href="#installer-composer" aria-hidden="true">#</a> Installer Composer</h4>
<ul>
<li><a href="https://getcomposer.org/Composer-Setup.exe" target="_blank" rel="noopener noreferrer">T√©l√©charger Composer pour Windows<ExternalLinkIcon/></a>, lors de l‚Äôinstallation il vous sera demand√© de s√©lectionner l‚Äôex√©cutable PHP. <code>ATTENTION:</code> Bien s√©lectionner la version 8.0 minimum de PHP dans le dossier <code>C:\wamp\bin\php\php\8.X.X\bin\php.exe</code> &lt;= Attention √† prendre la bonne version (ou via XAMPP)</li>
<li>v√©rifier que la commande est bien disponible en tapant <code>composer</code> dans un terminal</li>
</ul>
<h3 id="linux" tabindex="-1"><a class="header-anchor" href="#linux" aria-hidden="true">#</a> Linux</h3>
<p>Pour Linux c‚Äôest plus simple, il suffit d‚Äôinstaller PHP 7 sur votre machine (regarder la documentation de votre distribution). Une fois que PHP est install√©, il suffit de faire :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>php -r <span class="token string">"copy('https://getcomposer.org/installer', 'composer-setup.php');"</span>
php composer-setup.php
php -r <span class="token string">"unlink('composer-setup.php');"</span>
<span class="token function">mv</span> composer.phar /usr/local/bin/composer
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Ajouter dans votre PATH la home de composer, exemple :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"<span class="token environment constant">$PATH</span>:<span class="token environment constant">$HOME</span>/.config/composer/vendor/bin"</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">Vous allez avoir besoin de paquets en plus</p>
<p>Si vous utilisez Ubuntu / Debian / Pop_OS! etc :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> libapache2-mod-php php-common php-xml php-gd php-opcache php-mbstring php-tokenizer php-json php-bcmath php-zip <span class="token function">unzip</span> php-sqlite
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Sans les paquets, vous ne pourrez pas continuer l'installation.</p>
</div>
<h3 id="macos" tabindex="-1"><a class="header-anchor" href="#macos" aria-hidden="true">#</a> MacOS</h3>
<p>Sur la derni√®re version de MacOS, PHP est d√©j√† disponible en version 7. Il suffit donc d‚Äôinstaller <code>Composer</code>, pour l‚Äôinstaller il suffit :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>php -r <span class="token string">"copy('https://getcomposer.org/installer', 'composer-setup.php');"</span>
php composer-setup.php
php -r <span class="token string">"unlink('composer-setup.php');"</span>
<span class="token function">mv</span> composer.phar /usr/local/bin/composer
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Ajouter dans votre PATH la home de composer, exemple :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"<span class="token environment constant">$PATH</span>:<span class="token environment constant">$HOME</span>/.composer/vendor/bin"</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Fermer et rouvrir le terminal.</p>
<h2 id="installer-laravel" tabindex="-1"><a class="header-anchor" href="#installer-laravel" aria-hidden="true">#</a> Installer Laravel</h2>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code><span class="token function">composer</span> global require <span class="token string">"laravel/installer"</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>‚úã V√©rifier que la commande laravel fonctionne. Comment faire ?
Pour v√©rifier que la commande <code>laravel</code> fonctionne, il suffit de faire dans une console <code>laravel -h</code></p>
<p><img src="@source/tp/laravel/ressources/laravelcli.png" alt="Laravel"></p>
<h2 id="creer-le-premier-projet" tabindex="-1"><a class="header-anchor" href="#creer-le-premier-projet" aria-hidden="true">#</a> Cr√©er le premier Projet</h2>
<p>Votre poste est maintenant configur√© pour Laravel, vous pouvez donc cr√©er un nouveau projet gr√¢ce √† la commande :</p>
<p>‚úã Attention, le projet sera cr√©√© dans le dossier courant.</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>laravel new mon-premier-projet

<span class="token comment"># Ou</span>

<span class="token function">composer</span> create-project --prefer-dist laravel/laravel mon-premier-projet
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>La commande va t√©l√©charger l'ensemble des d√©pendances n√©cessaire et va cr√©er un dossier <code>mon-premier-projet</code> avec les sources.</p>
<div class="custom-container tip"><p class="custom-container-title">Vous avez r√©cup√©r√© le projet via GIT ?</p>
<p>Si vous avez r√©cup√©r√© le projet depuis GIT vous n'allez bien √©videmment pas utiliser la commande <code>create-project</code>‚Ä¶ Par contre vous allez devoir r√©installer les d√©pendances (<code>vendor</code>) de votre projet. C'est tr√®s simple :</p>
<p>Dans le dossier de votre projet, lancer la commande :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code><span class="token function">composer</span> <span class="token function">install</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></div>
<h2 id="initialisation" tabindex="-1"><a class="header-anchor" href="#initialisation" aria-hidden="true">#</a> Initialisation</h2>
<p>Votre nouveau projet contient un fichier <code>.env</code> ouvrez-le, et √©ditez par exemple le nom du projet.</p>
<p>Questions :</p>
<ul>
<li>Le fichier est plut√¥t complet, √† quoi servent les diff√©rents param√®tres ?</li>
<li>Dans les cours, je vous ai parl√© de la APP_KEY, celle-ci est d√©j√† remplie, √† votre avis pourquoi ?</li>
</ul>
<h2 id="lancer-le-projet-d-exemple" tabindex="-1"><a class="header-anchor" href="#lancer-le-projet-d-exemple" aria-hidden="true">#</a> Lancer le projet d‚Äôexemple</h2>
<p>Laravel int√®gre un serveur de test permettant de valider son d√©veloppement avec rien d‚Äôautre que PHP sur sa machine. Pour √ßa, dans le dossier du projet (<code>cd mon-premier-projet</code>) vous pouvez faire la commande suivante :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>php artisan serve
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Rendez-vous maintenant dans <a href="http://localhost:8000" target="_blank" rel="noopener noreferrer">votre navigateur<ExternalLinkIcon/></a> pour voir le site de d√©monstration fourni par Laravel.</p>
<p><img src="@source/tp/laravel/ressources/sample_laravel.png" alt="Sample Laravel"></p>
<h2 id="modification-du-template-par-defaut" tabindex="-1"><a class="header-anchor" href="#modification-du-template-par-defaut" aria-hidden="true">#</a> Modification du template par d√©faut</h2>
<p>√âditer le fichier <code>resources/views/welcome.blade.php</code>, ajouter la variable <code>$titre</code>. La syntaxe ¬´ blade ¬ª est la suivante <span v-pre><code>{{ $titre }}</code></span>.</p>
<p>Localiser dans le code l'endroit ou le logo de Laravel est affich√©. Ajouter en dessous ¬´ <span v-pre><code>{{ $titre }}</code></span> ¬ª. Vous avez d√©fini votre premi√®re variable c'est bien ! Mais pour l'instant rien ne se passe‚Ä¶ Pour que quelque chose s'affiche :</p>
<p>√âditer le fichier <code>routes/web.php</code>, transformer :</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'welcome'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>en</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'welcome'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'titre'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'Mon premier exemple.'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>üí° Vous pouvez √©galement appeler des fonctions dans les templates, exemple <code>time()</code>. Tester cette fonction en ajoutant :</p>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Le Timestamp est {{ time() }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Questions :</p>
<ul>
<li>√Ä votre avis est-il possible d'appeler d'autres fonctions ?</li>
</ul>
<h2 id="ajouter-une-nouvelle-route" tabindex="-1"><a class="header-anchor" href="#ajouter-une-nouvelle-route" aria-hidden="true">#</a> Ajouter une nouvelle Route</h2>
<p>Pour tester le fonctionnement, nous allons ajouter une nouvelle <code>Route</code> dans le projet de d√©monstration. Nous allons donc <code>ajouter</code> dans le fichier <code>routes/web.php</code> :</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/ping'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string double-quoted-string">"pong"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Tester la modification en <a href="http://localhost:8000/ping" target="_blank" rel="noopener noreferrer">acc√©dant √† votre site<ExternalLinkIcon/></a></p>
<Reveal text="Voir l‚Äôune des solutions possibles">
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'welcome'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'titre'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'Mon premier exemple.'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/ping'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string double-quoted-string">"pong"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></Reveal>
<div class="custom-container danger"><p class="custom-container-title">Un instant</p>
<p>Nous avons √©crit un peu de code. Vous avez pens√© √† GIT ? Git est en effet pr√©configur√© dans Laravel, nous avons de base un fichier <code>.gitignore</code> celui-ci limite l'ajout de quelques fichiers :</p>
<ul>
<li><code>.env</code></li>
<li>Le dossier <code>vendor</code> etc‚Ä¶</li>
</ul>
<p>Vous pouvez donc commiter sans probl√®me vos sources.</p>
</div>
<h2 id="ajouter-une-nouvelle-vue" tabindex="-1"><a class="header-anchor" href="#ajouter-une-nouvelle-vue" aria-hidden="true">#</a> Ajouter une nouvelle vue</h2>
<p>Maintenant que nous avons d√©clar√© une nouvelle route, nous allons revoir l√©g√®rement les templates pour :</p>
<ul>
<li>D√©clarer un template principal (aussi appel√© : layout).</li>
<li>Modifier le welcome.blade.php pour y faire r√©f√©rence.</li>
<li>Utiliser le layout pour r√©pondre <code>pong</code>.</li>
</ul>
<p>Question :</p>
<ul>
<li>√Ä votre avis pourquoi un tel d√©coupage ?</li>
</ul>
<h3 id="creer-le-layout" tabindex="-1"><a class="header-anchor" href="#creer-le-layout" aria-hidden="true">#</a> Cr√©er le layout</h3>
<p>Cr√©er un nouveau fichier <code>resources/views/layouts/base.blade.php</code> avec le contenu suivant :</p>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ app()->getLocale() }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Laravel - @yield('title')<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>

    <span class="token comment">&lt;!-- Fonts --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span>
      <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://fonts.googleapis.com/css?family=Raleway:100,600<span class="token punctuation">"</span></span>
      <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span>
    <span class="token punctuation">/></span></span>

    <span class="token comment">&lt;!-- Styles --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
      <span class="token selector">html,
      body</span> <span class="token punctuation">{</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #636b6f<span class="token punctuation">;</span>
        <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Raleway"</span><span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
        <span class="token property">font-weight</span><span class="token punctuation">:</span> 100<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.full-height</span> <span class="token punctuation">{</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.flex-center</span> <span class="token punctuation">{</span>
        <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
        <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.position-ref</span> <span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.top-right</span> <span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.content</span> <span class="token punctuation">{</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.title</span> <span class="token punctuation">{</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 84px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.links > a</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #636b6f<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 0 25px<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
        <span class="token property">font-weight</span><span class="token punctuation">:</span> 600<span class="token punctuation">;</span>
        <span class="token property">letter-spacing</span><span class="token punctuation">:</span> 0.1rem<span class="token punctuation">;</span>
        <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">text-transform</span><span class="token punctuation">:</span> uppercase<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.m-b-md</span> <span class="token punctuation">{</span>
        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flex-center position-ref full-height<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      @if (Route::has('login'))
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>top-right links<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        @auth
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ url(<span class="token punctuation">'</span>/home<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        @else
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ route(<span class="token punctuation">'</span>login<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ route(<span class="token punctuation">'</span>register<span class="token punctuation">'</span>) }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Register<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        @endauth
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      @endif

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>@yield('content')<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br></div></div><p>‚úã Mais d‚Äôo√π vient ce contenu ? C‚Äôest tout simplement un d√©coupage en ¬´ layout ¬ª du template de base de d√©monstration.</p>
<p>Question :</p>
<ul>
<li>√Ä votre avis, √† quoi sert le mot-cl√© <code>@yield</code> ?</li>
</ul>
<h3 id="utiliser-le-layout-dans-welcome-blade-php" tabindex="-1"><a class="header-anchor" href="#utiliser-le-layout-dans-welcome-blade-php" aria-hidden="true">#</a> Utiliser le layout dans welcome.blade.php</h3>
<p>Maintenant que nous avons notre template de base, nous allons l‚Äôutiliser dans le template ¬´ Welcome ¬ª. Remplacer le contenu de <code>resources/views/welcome.blade.php</code> par :</p>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code>@extends('layouts.base') @section('title', 'Bienvenue') @section('content')
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title m-b-md<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Laravel<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>links<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://laravel.com/docs<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Documentation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://laracasts.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Laracasts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://laravel-news.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>News<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://forge.laravel.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Forge<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://github.com/laravel/laravel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>GitHub<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
@endsection
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="utiliser-le-layout-dans-la-route-pong" tabindex="-1"><a class="header-anchor" href="#utiliser-le-layout-dans-la-route-pong" aria-hidden="true">#</a> Utiliser le layout dans la route Pong</h3>
<p>Bon, maintenant que nous avons d√©clar√© un layout utilisons-le dans la 2nd route (<a href="http://localhost:8000/ping" target="_blank" rel="noopener noreferrer">/ping<ExternalLinkIcon/></a>) que nous avons cr√©√© tout √† l‚Äôheure. Pour cette derni√®re action je ne vous donne pas de code, mais uniquement les √©tapes :</p>
<ul>
<li>Cr√©ez une Vue par exemple <code>ping.blade.php</code> (Dans le dossiers <code>views</code>)</li>
<li>Utilisez <code>@extends('layouts.base')</code> pour ¬´ h√©riter ¬ª de votre layout principal.</li>
<li>Modifiez <code>web.php</code> pour r√©pondre avec la fonction <code>view</code> comme dans l‚Äôautre route. (en vous inspirant de l'autre d√©j√† pr√©sente)</li>
</ul>
<p>Avec ces quelques explications, vous allez pouvoir atteindre l‚Äôobjectif. Bon courage.</p>
<Reveal text="Voir l‚Äôune des solutions possibles pour ping.blade.php">
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code>@<span class="token keyword">extends</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'layouts.base'</span><span class="token punctuation">)</span>

@<span class="token function">section</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'title'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Bienvenue'</span><span class="token punctuation">)</span>

@<span class="token function">section</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'content'</span><span class="token punctuation">)</span>
   <span class="token operator">&lt;</span>h1<span class="token operator">></span><span class="token constant">PONG</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
@endsection
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></Reveal>
<h2 id="les-composants" tabindex="-1"><a class="header-anchor" href="#les-composants" aria-hidden="true">#</a> Les composants</h2>
<p>Au passage, nous avons maintenant (en Laravel 8) une autre fa√ßon de d√©finir des templates / ¬´ morceaux de codes r√©utilisables ¬ª. C'est via un composant, nous d√©taillerons cette pratique un peu plus tard.</p>
<p>Le principe est tr√®s proche de l'h√©ritage des templates vu pr√©c√©demment. √Ä la diff√©rence que nous allons avoir √† notre disposition des balises personnalis√©es comme par exemple <code>&lt;x-layout-base&gt;</code> ou <code>&lt;x-card&gt;&lt;/x-card&gt;</code> ; c'est balise font r√©f√©rence √† du code plac√© dans le dossier <code>resources/views/components/</code>.</p>
<p>Cette notation est tr√®s r√©cente et n'est disponible qu'√† partir de <strong>Laravel 8</strong>.</p>
<p>Nous utiliserons les composants dans le TP Authentification.</p>
<p><a href="https://laravel.com/docs/8.x/blade#components" target="_blank" rel="noopener noreferrer">Pour les plus curieux, la documentation officielle est disponible ici<ExternalLinkIcon/></a></p>
<div class="custom-container tip"><p class="custom-container-title">Un composant</p>
<p>L'organisation en composant est tr√®s populaire en ce moment, elle est la base de beaucoup de frameworks moderne. Vous devriez vivement vous y int√©resser.</p>
<p>C'est par exemple la base du fonctionnement de VueJS üëå.</p>
</div>
<h2 id="utiliser-un-controleur" tabindex="-1"><a class="header-anchor" href="#utiliser-un-controleur" aria-hidden="true">#</a> Utiliser un contr√¥leur</h2>
<p>La force de Laravel est sa structure, nous avons vu ensemble que celui-ci propose un d√©coupage ¬´ pr√©cis ¬ª et clair des couches ¬´ MVC ¬ª (Mod√®le, Vue, Controlleur). Nous allons donc organiser notre code pour utiliser un Contr√¥leur (qui je le rappelle √† pour but de r√©pondre aux requ√™tes HTTP des clients).</p>
<h3 id="le-controleur" tabindex="-1"><a class="header-anchor" href="#le-controleur" aria-hidden="true">#</a> Le Contr√¥leur:</h3>
<p>C'est la premi√®re √©tape, un tour dans la console / terminal pour cr√©er notre premier contr√¥leur.</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>php artisan make:controller PingPongControleur
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Laravel, viens donc de cr√©er un nouveau fichier dans votre projet, pour l'instant celui-ci est vide (aucune m√©thode).</p>
<div class="custom-container tip"><p class="custom-container-title">C'est dans le terminal / console</p>
<p>Oui, c'est encore dans le terminal / console ‚Ä¶ Mais, nous gagnons du temps. Qui maitrise son clavier maitrise son ordinateur üëÄ.</p>
</div>
<p>Notre contr√¥leur va contenir <code>deux m√©thodes</code>, ces deux m√©thodes vont repr√©senter les deux <code>routes</code> de notre application :</p>
<table>
<thead>
<tr>
<th style="text-align:center">Route</th>
<th style="text-align:center">M√©thode</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>/ping</code></td>
<td style="text-align:center"><code>ping()</code></td>
</tr>
<tr>
<td style="text-align:center"><code>/pong</code></td>
<td style="text-align:center"><code>pong()</code></td>
</tr>
</tbody>
</table>
<p>Nous allons donc devoir ajouter dans notre <code>contr√¥leur</code> les deux routes. Je vous laisse ouvrir le <code>PingPongControleur</code> pour y ajouter les m√©thodes suivantes :</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">ping</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'ping'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">pong</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'pong'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="custom-container warning"><p class="custom-container-title">[] ?</p>
<p>Vous avez oubli√© la signification des <code>[]</code> ? C'est ¬´ simplement ¬ª les donn√©es que nous pourrions envoyer √† notre vue. Pratique !</p>
</div>
<h3 id="les-routes" tabindex="-1"><a class="header-anchor" href="#les-routes" aria-hidden="true">#</a> Les routes</h3>
<p>Nous allons maintenant ajouter les routes, pour rappel les routes sont ce qui permet aux utilisateurs d'acc√©der √† vos contr√¥leurs. L'ensemble des routes sont √† d√©clarer dans le fichier <code>routes/web.php</code>, √©diter le pour y ajouter vos routes :</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token class-name static-context">Route</span><span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/ping'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'App\Http\Controllers\PingPongControleur'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'ping'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Je vous laisse √©crire la seconde <code>route</code> en fonction de ce que je vous ai fourni.</p>
<div class="custom-container tip"><p class="custom-container-title">Une astuce ?</p>
<p>Vous pouvez simplement v√©rifier que votre route est bien prise en compte via la commande :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>php artisan route:list
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></div>
<h3 id="les-vues" tabindex="-1"><a class="header-anchor" href="#les-vues" aria-hidden="true">#</a> Les vues</h3>
<p>Vous l'avez r√©alis√© pr√©c√©demment, je vous laisse √©crire les deux <code>vue</code> / <code>layout</code>. Attention √† bien h√©riter de votre ¬´ Layout de base ¬ª (<code>@extends('layouts.base')</code>) comme dans la pr√©c√©dente vue.</p>
<h2 id="la-base-de-donnees" tabindex="-1"><a class="header-anchor" href="#la-base-de-donnees" aria-hidden="true">#</a> La base de donn√©es</h2>
<p>L'avantage d'utiliser un Framework, c'est qu'il est tr√®s simple d'y int√©grer la partie base de donn√©es, contrairement √† un d√©veloppement classique o√π tout est a ¬´ r√©-inventer ¬ª un framework nous donne une structure / un cadre pour aller plus vite. Comme pour la cr√©ation du contr√¥leur, la premi√®re √©tape va passer par de la ligne de commande.</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>php artisan make:model Demo --migration
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Cette commande va cr√©er ¬´ la d√©finition du mod√®le ¬ª (le mod√®le la repr√©sentation objet de notre table), mais √©galement la migration. La migration est le fichier qui va d√©finir la structure de notre <code>Table</code>. Vous avez maintenant, dans votre projet, deux nouveaux fichiers :</p>
<ul>
<li><code>app/Models/Demo.php</code></li>
<li><code>database/migrations/YEAR_MONTH_DAY_TIME_create_demos_table.php</code></li>
</ul>
<h3 id="definir-la-migration-structure-de-la-table" tabindex="-1"><a class="header-anchor" href="#definir-la-migration-structure-de-la-table" aria-hidden="true">#</a> D√©finir la migration (structure de la table)</h3>
<p>Le fichier de migration d√©fini la structure de la table que vous allez cr√©er, actuellement vous avec un ¬´ format type ¬ª, votre table va contenir de base quelques colonnes (id, et dates). Nous allons ajouter dans la m√©thode <code>up()</code> nos colonnes :</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token variable">$table</span><span class="token operator">-></span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'texte'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Je vous laisse l'ajouter avec les autres champs.</p>
<details class="custom-container details"><summary>Vous avez un doute sur comment faire ? (je vous invite vraiment √† le faire sans regarder la solution)</summary>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Migrations<span class="token punctuation">\</span>Migration</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Schema<span class="token punctuation">\</span>Blueprint</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Schema</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">CreateDemosTable</span> <span class="token keyword">extends</span> <span class="token class-name">Migration</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * Run the migrations.
     *
     * <span class="token keyword">@return</span> <span class="token class-name"><span class="token keyword">void</span></span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'demos'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$table</span><span class="token operator">-></span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-></span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'texte'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-></span><span class="token function">timestamps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Reverse the migrations.
     *
     * <span class="token keyword">@return</span> <span class="token class-name"><span class="token keyword">void</span></span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">dropIfExists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'demos'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div></details>
<h3 id="definition-du-modele" tabindex="-1"><a class="header-anchor" href="#definition-du-modele" aria-hidden="true">#</a> D√©finition du mod√®le</h3>
<p>Vous vous en doutez, si nous avons ajout√© un champ dans notre ¬´ migration ¬ª / ¬´ table ¬ª, nous allons devoir l'ajouter √©galement dans notre mod√®le ! Pour √ßa je vous laisse √©diter le fichier <code>app/Models/Demo.php</code> pour y ajouter :</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code>    <span class="token keyword">protected</span> <span class="token variable">$fillable</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'texte'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Avec cet ajout, nous indiquons √† Laravel que nous allons avoir un champ <code>texte</code> qui pourra √™tre assign√© en automatique lors de la cr√©ation d'une entr√©e en base de donn√©es.</p>
<div class="custom-container tip"><p class="custom-container-title">optionnel, mais int√©ressant !</p>
<p>Cette propri√©t√© est optionnelle, elle vous autorisera plus tard √† faire du ¬´ mass-assignment ¬ª c'est-√†-dire √† cr√©er un objet ¬´ Demos ¬ª depuis par exemple le POST HTTP.</p>
</div>
<h3 id="creer-reellement-vos-tables" tabindex="-1"><a class="header-anchor" href="#creer-reellement-vos-tables" aria-hidden="true">#</a> Cr√©er r√©ellement vos tables</h3>
<p>Maintenant que le script est termin√©, nous allons indiquer √† Laravel d'effectuer ¬´ la migration ¬ª c'est-√†-dire de transformer votre d√©finition PHP en instruction SQL pour cr√©er r√©ellement la base de donn√©es.</p>
<p>Retour dans la ligne de commande :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ php artisan migrate
<span class="token punctuation">[</span>‚Ä¶<span class="token punctuation">]</span>
Migrating: YEAR_MONTH_DAY_TIME_create_demos_table
Migrated:  YEAR_MONTH_DAY_TIME_create_demos_table
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="custom-container warning"><p class="custom-container-title">Un instant</p>
<p>Je vous laisse configurer votre <code>.env</code> mais √©galement v√©rifier si votre base de donn√©es fonctionne correctement (cr√©ation etc).</p>
</div>
<h3 id="requeter-votre-table" tabindex="-1"><a class="header-anchor" href="#requeter-votre-table" aria-hidden="true">#</a> Requ√™ter votre table</h3>
<p>Pour vous montrer la simplicit√© de Eloquent, je vous laisse juste avec les appels de m√©thodes (nous avons vu √ßa ensemble lors du cours)</p>
<div class="custom-container danger"><p class="custom-container-title">Liste non exhaustive</p>
<p>Vous n‚Äôavez ici qu'une petite liste de ce qu'il est possible de faire. Pour voir l'ensemble, je vous sugg√®re plut√¥t <a href="https://laravel.com/docs/8.x/eloquent" target="_blank" rel="noopener noreferrer">la documentation officielle<ExternalLinkIcon/></a></p>
</div>
<h4 id="obtenir-toutes-les-donnees" tabindex="-1"><a class="header-anchor" href="#obtenir-toutes-les-donnees" aria-hidden="true">#</a> Obtenir toutes les donn√©es</h4>
<p>Voil√† un exemple de code pour obtenir l'ensemble des donn√©es dans la table <code>demo</code>.</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token variable">$valeursEnBase</span> <span class="token operator">=</span> <span class="token class-name static-context">Demo</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="obtenir-toutes-les-donnees-avec-filtre" tabindex="-1"><a class="header-anchor" href="#obtenir-toutes-les-donnees-avec-filtre" aria-hidden="true">#</a> Obtenir toutes les donn√©es avec filtre</h4>
<p>Voil√† un exemple de code pour obtenir 10 lignes de donn√©es avec un filtre et tri√© par <code>id</code>.</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token variable">$valeursFiltre</span> <span class="token operator">=</span> <span class="token class-name static-context">Demo</span><span class="token operator">::</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'texte'</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"YOLO"</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">take</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container danger"><p class="custom-container-title">Ce ne sont que des exemples</p>
<p>Vous avez ici des exemples, √ßa ne sert √† rien de les prendres maintenant. Nous allons les utiliser <strong>dans votre contr√¥leurs</strong>.</p>
</div>
<h4 id="utiliser-les-donnees-depuis-votre-¬´-vue-¬ª" tabindex="-1"><a class="header-anchor" href="#utiliser-les-donnees-depuis-votre-¬´-vue-¬ª" aria-hidden="true">#</a> Utiliser les donn√©es depuis votre ¬´ vue ¬ª</h4>
<p>Et c'est tellement simple que si vous souhaitez tout r√©cup√©rer pour utiliser les donn√©es il vous suffit de faire :</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">listDemo</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// Retourne √† l'utilisateur le template nomm√©s ¬´ monLayout ¬ª avec dedans une variable nomm√© `$demos` qui contiendra l'ensemble des √©l√©ments dans la table</span>
  <span class="token comment">// Votre template devra utiliser cette variable avec par exemple un @foreach($demos as $demo) ‚Ä¶ @endforeach</span>
  <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"monLayout"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string double-quoted-string">"demos"</span> <span class="token operator">=></span> <span class="token class-name static-context">Demo</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="creer-des-donnees-depuis-un-formulaire-en-post" tabindex="-1"><a class="header-anchor" href="#creer-des-donnees-depuis-un-formulaire-en-post" aria-hidden="true">#</a> Cr√©er des donn√©es depuis un formulaire en POST</h4>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">addDemo</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name static-context">Demos</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-></span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/demo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="finaliser" tabindex="-1"><a class="header-anchor" href="#finaliser" aria-hidden="true">#</a> Finaliser</h3>
<p>√Ä partir de maintenant vous avez tout ce qu'il faut pour interroger votre base de donn√©es‚Ä¶ Et oui c'est aussi simple que √ßa ! Pour la suite je vous laisse √©crire le code par vous-m√™me, mais la proc√©dure va √™tre la suivante :</p>
<ul>
<li>Cr√©er un contr√¥leur ¬´ DemoControleur ¬ª.</li>
<li>Cr√©er la <code>Vue</code> (template blade) associ√©e √† votre contr√¥leur.</li>
<li>Ajouter la route qui permettra d'acc√©der √† cette page.</li>
<li>Ajouter une m√©thode qui va afficher l'ensemble des entr√©es pr√©sent dans votre base de donn√©es (affichage dans une <code>table</code> html).</li>
<li>Ajouter un formulaire dans votre <code>Vue</code> permettant d'ajouter des donn√©es dans la table.</li>
</ul>
<div class="custom-container tip"><p class="custom-container-title">Un instant</p>
<p>Nous l'avons vu en cours, la syntaxe du moteur de template blade. Ici il faudra donc bien utiliser Blade pour g√©n√©rer <strong>votre page</strong>, et plus particuli√®rement <RouterLink to="/cheatsheets/laravel/#les-directives">les directives de blades</RouterLink>. Vous allez devoir utiliser la boucle <code>Foreach</code>, la notation est rappel√©e dans l'aide m√©moire. Mais voil√† une id√©e de ce qu'il faudra faire :</p>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>
  @foreach($LaVariableAvecLesValeursEnBase as $unElement)
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>{{$unElement->texte}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
  @endforeach
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div>
<div class="custom-container danger"><p class="custom-container-title">N'oubliez pas</p>
<p>Utilisez <code>@extends('layouts.base')</code> pour ¬´ h√©riter ¬ª de votre layout principal.</p>
</div>
<div class="custom-container danger"><p class="custom-container-title">N'oubliez pas le CSRF</p>
<p>Je vous ai parl√© de la s√©curit√© non ? Laravel int√®gre directement la protection anti-rejeux. Pour pouvoir valider votre formulaire, vous allez devoir int√©grer dans votre formulaire une petite annotation.</p>
<p><code>@csrf</code></p>
<p>Exemple :</p>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/VOTRE-ACTIO-DEFINI-DANS-LES-ROUTES<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  @csrf

  <span class="token comment">&lt;!-- La suite de votre formulaire --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>PS: Je vous laisse constater l'impact dans le code <strong>en observant le code source via votre navigateur</strong>.</p>
<p><a href="https://laravel.com/docs/8.x/csrf" target="_blank" rel="noopener noreferrer">Plus d'information<ExternalLinkIcon/></a></p>
</div>
<h3 id="changer-l-etat-d-une-todo" tabindex="-1"><a class="header-anchor" href="#changer-l-etat-d-une-todo" aria-hidden="true">#</a> Changer l'√©tat d'une TODO</h3>
<p>En utilisant <a href="https://cours.brosseau.ovh/cheatsheets/laravel/" target="_blank" rel="noopener noreferrer">l'aide m√©moire<ExternalLinkIcon/></a> et la <a href="https://laravel.com/docs/8.x/eloquent" target="_blank" rel="noopener noreferrer">documentation de Laravel<ExternalLinkIcon/></a> ajouter :</p>
<ul>
<li>Une action permettant de marquer ¬´ comme terminer ¬ª une TODO. (l'action peut-√™tre un lien, ou un bouton)</li>
<li>Cette action doit √™tre mise dans le bon contr√¥leur</li>
</ul>
<div class="custom-container tip"><p class="custom-container-title">Rappel</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token comment">// Rechercher celui avec l‚Äôid 1</span>
<span class="token variable">$todo</span> <span class="token operator">=</span> <span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\</span>TodoList</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"L'ID QUE VOUS SOUHAITEZ MODIFIER"</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Le passer √† terminer</span>
<span class="token variable">$todo</span><span class="token operator">-></span><span class="token property">termine</span> <span class="token operator">=</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span>

<span class="token comment">// Le sauvegarder en base de donn√©es</span>
<span class="token variable">$todo</span><span class="token operator">-></span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="besoin-d-aide" tabindex="-1"><a class="header-anchor" href="#besoin-d-aide" aria-hidden="true">#</a> Besoin d'aide ?</h4>
<p>Je ne vais pas vous donner le code. Mais plut√¥t la proc√©dure vous devez :</p>
<ul>
<li>Pour chaque ligne de votre tableau : ajouter un lien qui permettra de modifier l'√©tat d'un √©l√©ment en base. Le lien peut-√™tre du type <code v-pre><code>/todo/terminer/{{ $unElement-&gt;id}}</code></code>.</li>
<li>Ajout d'une route permettant de faire fonctionner le lien. Exemple : <code v-pre><code>Route::get('/todo/terminer/{id}', ['App\Http\Controllers\DemoControleur', 'markAsDone']);</code></code>.</li>
<li>Ajouter la m√©thode <code>markAsDone</code> dans votre contr√¥leur <code>public function markAsDone($id)</code>, celle-ci va r√©aliser l'action de marquer comme ¬´ terminer ¬ª pour la TODO <code>$id</code></li>
<li>√Ä la fin du traitement, vous devez rediriger la personne avec <code>return redirect(&quot;/demo&quot;);</code></li>
</ul>
<h3 id="supprimer-une-todo" tabindex="-1"><a class="header-anchor" href="#supprimer-une-todo" aria-hidden="true">#</a> Supprimer une TODO</h3>
<p>En utilisant <a href="https://cours.brosseau.ovh/cheatsheets/laravel/" target="_blank" rel="noopener noreferrer">l'aide m√©moire<ExternalLinkIcon/></a> et la <a href="https://laravel.com/docs/8.x/eloquent" target="_blank" rel="noopener noreferrer">documentation de Laravel<ExternalLinkIcon/></a> ajouter :</p>
<ul>
<li>Une action permettant de marquer ¬´ supprimer ¬ª une TODO.</li>
<li>Cette action doit √™tre mise dans le bon contr√¥leur</li>
</ul>
<div class="custom-container tip"><p class="custom-container-title">Rappel</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token comment">// Fa√ßon 1</span>
<span class="token comment">// Rechercher celui avec l‚Äôid 1</span>
<span class="token variable">$todo</span> <span class="token operator">=</span> <span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\</span>TodoList</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$todo</span><span class="token operator">-></span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Le supprimer</span>

<span class="token comment">// Fa√ßon 2</span>
<span class="token comment">// Le supprimer directement</span>
<span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\</span>TodoList</span><span class="token operator">::</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Fa√ßon 3</span>
<span class="token comment">// En supprimer plusieurs directement</span>
<span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\</span>TodoList</span><span class="token operator">::</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Fa√ßon 4</span>
<span class="token comment">// Supprimer avec une condition</span>
<span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\</span>TodoList</span><span class="token operator">::</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'termine'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'=='</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>N'oubliez pas la s√©curit√©.</p>
<details class="custom-container details"><summary>Besoin d'aide ?</summary>
<p>Ici pas de code, mais la proc√©dure sera identique √† celle de l'action terminer.</p>
</details>
</div>
</div>
<p>:::</p>
<h3 id="evolution-1" tabindex="-1"><a class="header-anchor" href="#evolution-1" aria-hidden="true">#</a> √âvolution 1</h3>
<p>J'aimerais que notre petit site de d√©monstration int√®gre un formulaire de contact. Je vous laisse r√©fl√©chir comment r√©aliser l'op√©ration, quelques pistes pour d√©buter :</p>
<ul>
<li>Le formulaire doit √™tre en HTML.</li>
<li>Les demandes faites via le formulaire doivent √™tre sauvegard√©es en base de donn√©es (table sp√©cifique, avec un id, un titre, un texte, un email et les dates).</li>
<li>L'ajout doit √™tre fait par un mod√®le.</li>
<li>Vous devez cr√©er un contr√¥leur sp√©cifique pour r√©aliser l'op√©ration.</li>
</ul>
<p>C'est √† vous ! Je suis l√† si besoin üöÄ.</p>
</template>
