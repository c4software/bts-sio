<template><h1 id="creer-ma-premiere-page-php" tabindex="-1"><a class="header-anchor" href="#creer-ma-premiere-page-php" aria-hidden="true">#</a> Cr√©er ma premi√®re page PHP</h1>
<p>Dans ce TP nous allons cr√©er votre premi√®re page PHP. Rassurez-vous, elle sera tr√®s simple, pas tr√®s jolie‚Ä¶ Mais elle nous permettra de voir les concepts de bases.</p>
<h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h2>
<p>Je vous disais <RouterLink to="/tp/php/support.html#et-le-php-dans-tout-ca">tout √† l'heure</RouterLink> que nous avions un texte ¬´ √† trou ¬ª, c'est litt√©ralement le cas. Nous allons pouvoir mettre du PHP <strong>partout</strong> dans notre page pour rendre certaines parties <strong>dynamique</strong></p>
<p>Exemple avec le script de d√©mo (le m√™me que tout √† l'heure):</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fr<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Exemple PHP<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Bonjour vous<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Nous sommes le <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"d/m/Y"</span><span class="token punctuation">)</span> <span class="token delimiter important">?></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Nous pouvons donc le visualiser tels que :</p>
<p><img src="@source/tp/php/res/php_base2.png" alt="Un texte √† trou"></p>
<p>Ce qui donnera apr√®s traitement de la part de votre serveur :</p>
<p><img src="@source/tp/php/res/php_base.png" alt="Le rendu"></p>
<h2 id="c-est-a-vous" tabindex="-1"><a class="header-anchor" href="#c-est-a-vous" aria-hidden="true">#</a> C'est √† vous</h2>
<p>Je vous laisse tester le code pr√©c√©dent dans votre navigateur :</p>
<ul>
<li>Cr√©er un nouveau fichier dans le dossier <code>www</code> de wamp nomm√©e <code>index.php</code>. (‚úã not√© que le fichier n'est plus un <code>.html</code> mais un fichier <code>.php</code>)</li>
<li>Acc√©der √† votre serveur web : http://localhost/index.php</li>
</ul>
<h2 id="les-balises" tabindex="-1"><a class="header-anchor" href="#les-balises" aria-hidden="true">#</a> Les balises</h2>
<p>En regardant le code nous avons plusieurs, nouveaux √©l√©ments :</p>
<ul>
<li>Les balises PHP : <code>&lt;?php ‚Ä¶ ?&gt;</code>.</li>
<li>Un mot <code>echo</code>.</li>
<li>Une fonction Date.</li>
</ul>
<h3 id="les-balises-php" tabindex="-1"><a class="header-anchor" href="#les-balises-php" aria-hidden="true">#</a> Les balises PHP</h3>
<p>Les balises PHP ont pour but d'indiquer ¬´ au moteur PHP ¬ª les endroits qu'il doit ex√©cuter. Lors de la lecture de fichier, partout ou vous avez mis des <code>&lt;?php /* ‚Ä¶ */ ?&gt;</code> sera remplac√© par ¬´ une ex√©cution de code.</p>
<p>Vous allez donc pouvoir mettre dans votre code :</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token delimiter important">?></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>ou encore</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token doc-comment comment">/**
 * Votre code ICI
 *
 *
 *
 *
 * */</span>
<span class="token delimiter important">?></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Il n'y a pas de limite √† la longueur de votre code PHP.</p>
<div class="custom-container tip"><p class="custom-container-title">Astuce de pro</p>
<p>Nous avons la possibilit√© de mettre du code en commentaires en PHP. Du code en commentaire est du code qui ne sera <strong>pas ex√©cut√© par notre serveur</strong>. En PHP plusieurs notations sont possibles:</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token comment">// Commentaire sur une seule ligne</span>

ou

<span class="token comment">/* Votre commentaire √† placer n'importe o√π */</span>

ou

<span class="token doc-comment comment">/**
 * Votre commentaire
 * sur plusieurs lignes
 * Pratique pour donner le but d'un fichier par exemple.
 **/</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></div>
<h3 id="echo-sierra-tango-papa" tabindex="-1"><a class="header-anchor" href="#echo-sierra-tango-papa" aria-hidden="true">#</a> echo ? sierra tango papa</h3>
<p>Aaah le mot-cl√© <code>echo</code> vous allez l'aimer ! Sans celui-ci votre code PHP n'affichera rien √† l'utilisateur.</p>
<p>Exemple concret sans le echo:</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Exemple PHP<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Nous sommes le <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"d/m/Y"</span><span class="token punctuation">)</span> <span class="token delimiter important">?></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">Je vous laisse tester</p>
<p>Tester le code suivant, vous allez voir‚Ä¶ sans le echo aucun signe de la date</p>
</div>
<h3 id="la-fonction-date" tabindex="-1"><a class="header-anchor" href="#la-fonction-date" aria-hidden="true">#</a> La fonction date</h3>
<p>La fonction date est l'une des nombreuses fonctions disponibles <strong>de base</strong> dans PHP. Cette fonction permet de formater la date que nous lui passons en param√®tre. Si il n'y a aucun param√®tre ? Et bien √ßa prend <strong>now()</strong> soit <strong>maintenant</strong>.</p>
<p>Dans notre cas : <code>date(&quot;d/m/Y&quot;)</code> affiche la date actuelle avec un format ¬´ fran√ßais ¬ª.</p>
<p><a href="https://www.php.net/manual/en/function.date.php" target="_blank" rel="noopener noreferrer">En savoir plus sur la fonction date<ExternalLinkIcon/></a></p>
<h3 id="a-faire" tabindex="-1"><a class="header-anchor" href="#a-faire" aria-hidden="true">#</a> √Ä faire</h3>
<p>Dans l'exemple, je vous laisse modifier la date pour en changer le format <strong>et</strong> ajouter l'heure.</p>
<h2 id="allons-plus-loin" tabindex="-1"><a class="header-anchor" href="#allons-plus-loin" aria-hidden="true">#</a> Allons plus loin</h2>
<p>Je vous le disais au d√©but‚Ä¶ Nous pouvons mettre du PHP partout dans notre code. La seule contrainte pour que celui-ci soit affich√©? Qu'il contienne une ou plusieurs fois le mot echo.</p>
<div class="custom-container warning"><p class="custom-container-title">Attention au ¬´ ; ¬ª</p>
<p>Attention en PHP chaque instruction doit-√™tre termin√© par un <code>;</code>. Si vous l'oubliez votre script sera en <code>erreur</code>.</p>
</div>
<p>Voil√† le code source d'un second script PHP :</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'H:i:s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Bonjour <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token string double-quoted-string">"valentin"</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
        <span class="token doc-comment comment">/**
         * J'affiche du code HTML depuis le PHP
         **/</span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Je suis une page √©crite en PHP, &lt;strong>avec du texte statique&lt;/strong>, mais dynamique"</span><span class="token punctuation">;</span>
    <span class="token delimiter important">?></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><img src="@source/tp/php/res/php_demo2.png" alt="D√©mo du rendu"></p>
<p>Nous avons donc un code HTML et du code PHP entrem√™l√©. Il possible de mettre du texte dans du code PHP, du texte sans fonction PHP rien‚Ä¶ <strong>Je vous d√©conseille vivement</strong> de le faire ! √áa n'a aucun int√©r√™t et en plus vous faites travailler inutilement votre serveur PHP.</p>
<p>‚úã R√©serv√© vos balises PHP pour du code dynamique.</p>
<div class="custom-container tip"><p class="custom-container-title">Astuce de pro</p>
<p>Votre code PHP ne sera jamais envoy√© au client. Il est ex√©cut√© sur le serveur, seul le r√©sultat est re√ßu par votre client.</p>
</div>
<h3 id="c-est-a-vous-1" tabindex="-1"><a class="header-anchor" href="#c-est-a-vous-1" aria-hidden="true">#</a> C'est √† vous</h3>
<p>Je vous laisse tester le code pr√©c√©dent. Modifiez-le pour y mettre vos informations.</p>
<p>üëÅÔ∏è Regarder √† l'aide de votre navigateur le code re√ßu du serveur üëÅÔ∏è</p>
<div class="custom-container danger"><p class="custom-container-title">Ha oui j'oubliai</p>
<p>Il est possible √©galement de faire un fichier enti√®rement en PHP qui ne retourne que du HTML :</p>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">echo</span> <span class="token string single-quoted-string">'
&lt;!DOCTYPE html>
&lt;html lang="en">
&lt;head>
    &lt;title>Ma page&lt;/title>
&lt;/head>
&lt;body>
    &lt;h1>Bonjour Valentin&lt;/h1>
&lt;/body>
&lt;/html>
'</span><span class="token punctuation">;</span>
</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Bien √©videment en</p>
<p><strong>AUCUN CAS VOUS NE DEVEZ FAIRE √áA !</strong></p>
</div>
</template>
